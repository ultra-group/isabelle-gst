<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Functions</title>
</head>


<body>
<div class="head">
<h1>Theory Functions</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Functions</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><span class="quoted"><span>"</span><a href="SetComprehension.html"><span>../GZF/SetComprehension</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="SetCombinators.html"><span>../GZF/SetCombinators</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_85..92">context</span></span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function|locale"><span>Function</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>mkfun_typ</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>dom_typ</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun</span></a><span>"</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_prop</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_ext</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_dom</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.mkfun_fun|fact"><span class="entity_def" id="Functions.Function.mkfun_fun|fact"><span class="entity_def" id="Functions.Function_class.mkfun_fun|thm"><span class="entity_def" id="Functions.Function.mkfun_fun|thm"><span class="entity_def" id="offset_174..183">mkfun_fun</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.depfunE|fact"><span>depfunE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>mkfun_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.dom_set|fact"><span class="entity_def" id="Functions.Function.dom_set|fact"><span class="entity_def" id="Functions.Function_class.dom_set|thm"><span class="entity_def" id="Functions.Function.dom_set|thm"><span class="entity_def" id="offset_224..231">dom_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>dom_typ</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Basic properties of function application relation</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_313..318">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funpredI|fact"><span class="entity_def" id="Functions.Function.funpredI|fact"><span class="entity_def" id="Functions.Function_class.funpredI|thm"><span class="entity_def" id="Functions.Function.funpredI|thm"><span class="entity_def" id="offset_319..327">funpredI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃<span class="hidden">⇩</span><sub>≤</sub><span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_313..318"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>FunPred_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tall_def|fact"><span>tall_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.app_eqI|fact"><span class="entity_def" id="Functions.Function.app_eqI|fact"><span class="entity_def" id="Functions.Function_class.app_eqI|thm"><span class="entity_def" id="Functions.Function.app_eqI|thm"><span class="entity_def" id="offset_491..498">app_eqI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_511..512">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_535..536">y</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_553..554">z</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_prop</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_511..512"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_535..536"><span>y</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_553..554"><span>z</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.fun_eqI|fact"><span class="entity_def" id="Functions.Function.fun_eqI|fact"><span class="entity_def" id="Functions.Function_class.fun_eqI|thm"><span class="entity_def" id="Functions.Function.fun_eqI|thm"><span class="entity_def" id="offset_624..631">fun_eqI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_644..645">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_665..666">g</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_692..694">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_ext</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_644..645"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_665..666"><span>g</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_692..694"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.mkfun_iff|fact"><span class="entity_def" id="Functions.Function.mkfun_iff|fact"><span class="entity_def" id="Functions.Function_class.mkfun_iff|thm"><span class="entity_def" id="Functions.Function.mkfun_iff|thm"><span class="entity_def" id="offset_782..791">mkfun_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_805..806">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_821..822">P</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun</span></a><span>"</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_805..806"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_821..822"><span>P</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>



</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Function application operator</span><span>›</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>rapp and fapp</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.funapp_def|fact"><span class="entity_def" id="Functions.Function.funapp_def|fact"><span class="entity_def" id="Functions.Function_class.funapp_def|thm"><span class="entity_def" id="Functions.Function.funapp_def|thm"><span class="entity_def" id="Functions.Function.funapp_def_raw|axiom"><span class="entity_def" id="offset_998..1008">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.funapp_dict|fact"><span class="entity_def" id="Functions.Function.funapp.cong|fact"><span class="entity_def" id="Functions.Function_class.funapp_dict|thm"><span class="entity_def" id="Functions.Function.funapp.cong|thm"><span class="entity_def" id="Functions.Function_class.funapp_dict|axiom"><span class="entity_def" id="Functions.Function_class.funapp|const"><span class="entity_def" id="Functions.Function.funapp|const"><span>funapp</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>`</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>funapp</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_default|const"><span>ι'</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funappI|fact"><span class="entity_def" id="Functions.Function.funappI|fact"><span class="entity_def" id="Functions.Function_class.funappI|thm"><span class="entity_def" id="Functions.Function.funappI|thm"><span class="entity_def" id="offset_1116..1123">funappI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1136..1137">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1157..1160">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_998..1008"><span>funapp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_def_eq|fact"><span>the_def_eq</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1157..1160"><span>app</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_491..498"><span>app_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1136..1137"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funapp_default|fact"><span class="entity_def" id="Functions.Function.funapp_default|fact"><span class="entity_def" id="Functions.Function_class.funapp_default|thm"><span class="entity_def" id="Functions.Function.funapp_default|thm"><span class="entity_def" id="offset_1277..1291">funapp_default</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1333..1336">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>¬</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_998..1008"><span>funapp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_def_default|fact"><span>the_def_default</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1333..1336"><span>app</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funappE|fact"><span class="entity_def" id="Functions.Function.funappE|fact"><span class="entity_def" id="Functions.Function_class.funappE|thm"><span class="entity_def" id="Functions.Function.funappE|thm"><span class="entity_def" id="offset_1476..1483">funappE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1517..1519">eq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1541..1542">y</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>∃!</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_998..1008"><span>funapp_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_defI&apos;|fact"><span>the_defI'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1517..1519"><span>eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_1769..1770">d</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_998..1008"><span>funapp_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_def_default|fact"><span>the_def_default</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1517..1519"><span>eq</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_1541..1542"><span>y</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_1769..1770"><span>d</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Domain, Range, and Field</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Domain of function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.dom_iff|fact"><span class="entity_def" id="Functions.Function.dom_iff|fact"><span class="entity_def" id="Functions.Function_class.dom_iff|thm"><span class="entity_def" id="Functions.Function.dom_iff|thm"><span class="entity_def" id="offset_1982..1989">dom_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2002..2003">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_dom</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2002..2003"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.domI|fact"><span class="entity_def" id="Functions.Function.domI|fact"><span class="entity_def" id="Functions.Function_class.domI|thm"><span class="entity_def" id="Functions.Function.domI|thm"><span class="entity_def" id="offset_2091..2095">domI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2108..2109">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2129..2131">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_dom</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2108..2109"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2129..2131"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.domE|fact"><span class="entity_def" id="Functions.Function.domE|fact"><span class="entity_def" id="Functions.Function_class.domE|thm"><span class="entity_def" id="Functions.Function.domE|thm"><span class="entity_def" id="offset_2203..2207">domE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2221..2222">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2242..2244">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_dom</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2221..2222"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2242..2244"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funapp_dom|fact"><span class="entity_def" id="Functions.Function.funapp_dom|fact"><span class="entity_def" id="Functions.Function_class.funapp_dom|thm"><span class="entity_def" id="Functions.Function.funapp_dom|thm"><span class="entity_def" id="offset_2324..2334">funapp_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2347..2348">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2368..2369">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2436..2437">z</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2203..2207"><span>domE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2347..2348"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2368..2369"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1116..1123"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2347..2348"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2436..2437"><span>z</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.mkfun_dom|fact"><span class="entity_def" id="Functions.Function.mkfun_dom|fact"><span class="entity_def" id="Functions.Function_class.mkfun_dom|thm"><span class="entity_def" id="Functions.Function.mkfun_dom|thm"><span>mkfun_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2596..2597">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2612..2613">P</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1982..1989"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_174..183"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2596..2597"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2612..2613"><span>P</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_782..791"><span>mkfun_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2596..2597"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2612..2613"><span>P</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Range of Function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_iff|fact"><span class="entity_def" id="Functions.Function.ran_iff|fact"><span class="entity_def" id="Functions.Function_class.ran_iff|thm"><span class="entity_def" id="Functions.Function.ran_iff|thm"><span class="entity_def" id="offset_2824..2831">ran_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2844..2845">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_ran</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2844..2845"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_set|fact"><span class="entity_def" id="Functions.Function.ran_set|fact"><span class="entity_def" id="Functions.Function_class.ran_set|thm"><span class="entity_def" id="Functions.Function.ran_set|thm"><span class="entity_def" id="offset_2933..2940">ran_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>ran_typ</span></a><span class="main"><span>]</span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ranI|fact"><span class="entity_def" id="Functions.Function.ranI|fact"><span class="entity_def" id="Functions.Function_class.ranI|thm"><span class="entity_def" id="Functions.Function.ranI|thm"><span class="entity_def" id="offset_2969..2973">ranI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2987..2988">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3015..3016">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_ran</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2987..2988"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3015..3016"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ranE|fact"><span class="entity_def" id="Functions.Function.ranE|fact"><span class="entity_def" id="Functions.Function_class.ranE|thm"><span class="entity_def" id="Functions.Function.ranE|thm"><span class="entity_def" id="offset_3087..3091">ranE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3104..3105">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3125..3126">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>fun_ran</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3104..3105"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3125..3126"><span>b</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2091..2095"><span>domI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_appE|fact"><span class="entity_def" id="Functions.Function.ran_appE|fact"><span class="entity_def" id="Functions.Function_class.ran_appE|thm"><span class="entity_def" id="Functions.Function.ran_appE|thm"><span>ran_appE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3242..3243">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3263..3264">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3087..3091"><span>ranE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3242..3243"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3263..3264"><span>b</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1116..1123"><span>funappI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3242..3243"><span>f</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_app|fact"><span class="entity_def" id="Functions.Function.ran_app|fact"><span class="entity_def" id="Functions.Function_class.ran_app|thm"><span class="entity_def" id="Functions.Function.ran_app|thm"><span class="entity_def" id="offset_3372..3379">ran_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3392..3393">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3419..3420">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2969..2973"><span>ranI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3392..3393"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2203..2207"><span>domE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3392..3393"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3419..3420"><span>b</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1116..1123"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3392..3393"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>  

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Field of a function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.field_def|fact"><span class="entity_def" id="Functions.Function.field_def|fact"><span class="entity_def" id="Functions.Function_class.field_def|thm"><span class="entity_def" id="Functions.Function.field_def|thm"><span class="entity_def" id="Functions.Function.field_def_raw|axiom"><span class="entity_def" id="offset_3572..3582">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.field_dict|fact"><span class="entity_def" id="Functions.Function.field.cong|fact"><span class="entity_def" id="Functions.Function_class.field_dict|thm"><span class="entity_def" id="Functions.Function.field.cong|thm"><span class="entity_def" id="Functions.Function_class.field_dict|axiom"><span class="entity_def" id="Functions.Function_class.field|const"><span class="entity_def" id="Functions.Function.field|const"><span>field</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>field</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_typ|fact"><span class="entity_def" id="Functions.Function.field_typ|fact"><span class="entity_def" id="Functions.Function_class.field_typ|thm"><span class="entity_def" id="Functions.Function.field_typ|thm"><span class="entity_def" id="offset_3643..3652">field_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3572..3582"><span>field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>un_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_set|fact"><span class="entity_def" id="Functions.Function.field_set|fact"><span class="entity_def" id="Functions.Function_class.field_set|thm"><span class="entity_def" id="Functions.Function.field_set|thm"><span>field_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3643..3652"><span>field_typ</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_iff|fact"><span class="entity_def" id="Functions.Function.field_iff|fact"><span class="entity_def" id="Functions.Function_class.field_iff|thm"><span class="entity_def" id="Functions.Function.field_iff|thm"><span class="entity_def" id="offset_3796..3805">field_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3818..3819">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3572..3582"><span>field_def</span></a><span> </span><span>un_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3818..3819"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3818..3819"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>rule</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_dom_subset|fact"><span class="entity_def" id="Functions.Function.field_dom_subset|fact"><span class="entity_def" id="Functions.Function_class.field_dom_subset|thm"><span class="entity_def" id="Functions.Function.field_dom_subset|thm"><span class="entity_def" id="offset_3962..3978">field_dom_subset</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3991..3992">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3572..3582"><span>field_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>un_subset1</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3991..3992"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3991..3992"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_ran_subset|fact"><span class="entity_def" id="Functions.Function.field_ran_subset|fact"><span class="entity_def" id="Functions.Function_class.field_ran_subset|thm"><span class="entity_def" id="Functions.Function.field_ran_subset|thm"><span class="entity_def" id="offset_4120..4136">field_ran_subset</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4149..4150">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3572..3582"><span>field_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>un_subset2</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4149..4150"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4149..4150"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_domI|fact"><span class="entity_def" id="Functions.Function.field_domI|fact"><span class="entity_def" id="Functions.Function_class.field_domI|thm"><span class="entity_def" id="Functions.Function.field_domI|thm"><span>field_domI</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3962..3978"><span>field_dom_subset</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_ranI|fact"><span class="entity_def" id="Functions.Function.field_ranI|fact"><span class="entity_def" id="Functions.Function_class.field_ranI|thm"><span class="entity_def" id="Functions.Function.field_ranI|thm"><span>field_ranI</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4120..4136"><span>field_ran_subset</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_disjE|fact"><span class="entity_def" id="Functions.Function.field_disjE|fact"><span class="entity_def" id="Functions.Function_class.field_disjE|thm"><span class="entity_def" id="Functions.Function.field_disjE|thm"><span>field_disjE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4401..4402">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4422..4423">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>dom</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>ran</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4422..4423"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3796..3805"><span>field_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4401..4402"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_app_iff|fact"><span class="entity_def" id="Functions.Function.field_app_iff|fact"><span class="entity_def" id="Functions.Function_class.field_app_iff|thm"><span class="entity_def" id="Functions.Function.field_app_iff|thm"><span class="entity_def" id="offset_4564..4577">field_app_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4590..4591">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3796..3805"><span>field_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4590..4591"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1982..1989"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4590..4591"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2824..2831"><span>ran_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4590..4591"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_appI1|fact"><span class="entity_def" id="Functions.Function.field_appI1|fact"><span class="entity_def" id="Functions.Function_class.field_appI1|thm"><span class="entity_def" id="Functions.Function.field_appI1|thm"><span>field_appI1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4758..4759">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4779..4782">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4564..4577"><span>field_app_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4758..4759"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4779..4782"><span>app</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_appI2|fact"><span class="entity_def" id="Functions.Function.field_appI2|fact"><span class="entity_def" id="Functions.Function_class.field_appI2|thm"><span class="entity_def" id="Functions.Function.field_appI2|thm"><span>field_appI2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4892..4893">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4913..4916">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4564..4577"><span>field_app_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4892..4893"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4913..4916"><span>app</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_app_disjE|fact"><span class="entity_def" id="Functions.Function.field_app_disjE|fact"><span class="entity_def" id="Functions.Function_class.field_app_disjE|thm"><span class="entity_def" id="Functions.Function.field_app_disjE|thm"><span>field_app_disjE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5030..5031">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5051..5052">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>dom</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>ran</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4564..4577"><span>field_app_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5030..5031"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5051..5052"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>FunMem soft-type</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funmemI1|fact"><span class="entity_def" id="Functions.Function.funmemI1|fact"><span class="entity_def" id="Functions.Function_class.funmemI1|thm"><span class="entity_def" id="Functions.Function.funmemI1|thm"><span class="entity_def" id="offset_5216..5224">funmemI1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5238..5239">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5259..5262">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>FunMem_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5238..5239"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5259..5262"><span>app</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funmemI2|fact"><span class="entity_def" id="Functions.Function.funmemI2|fact"><span class="entity_def" id="Functions.Function_class.funmemI2|thm"><span class="entity_def" id="Functions.Function.funmemI2|thm"><span class="entity_def" id="offset_5362..5370">funmemI2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5384..5385">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5405..5408">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>FunMem_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5384..5385"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5405..5408"><span>app</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.dom_funmem|fact"><span class="entity_def" id="Functions.Function.dom_funmem|fact"><span class="entity_def" id="Functions.Function_class.dom_funmem|thm"><span class="entity_def" id="Functions.Function.dom_funmem|thm"><span class="entity_def" id="offset_5508..5518">dom_funmem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5532..5533">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5553..5556">dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2203..2207"><span>domE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5532..5533"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5553..5556"><span>dom</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5216..5224"><span>funmemI1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5532..5533"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_funmem|fact"><span class="entity_def" id="Functions.Function.ran_funmem|fact"><span class="entity_def" id="Functions.Function_class.ran_funmem|thm"><span class="entity_def" id="Functions.Function.ran_funmem|thm"><span class="entity_def" id="offset_5645..5655">ran_funmem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5668..5669">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5689..5692">ran</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3087..3091"><span>ranE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5668..5669"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5689..5692"><span>ran</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5362..5370"><span>funmemI2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5668..5669"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_funmem|fact"><span class="entity_def" id="Functions.Function.field_funmem|fact"><span class="entity_def" id="Functions.Function_class.field_funmem|thm"><span class="entity_def" id="Functions.Function.field_funmem|thm"><span>field_funmem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5807..5808">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5828..5833">field</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5828..5833"><span>field</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5508..5518"><span>dom_funmem</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5807..5808"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5645..5655"><span>ran_funmem</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5807..5808"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3796..3805"><span>field_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5807..5808"><span>f</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funmem_appI|fact"><span class="entity_def" id="Functions.Function.funmem_appI|fact"><span class="entity_def" id="Functions.Function_class.funmem_appI|thm"><span class="entity_def" id="Functions.Function.funmem_appI|thm"><span>funmem_appI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5988..5989">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6009..6010">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5645..5655"><span>ran_funmem</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5988..5989"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3372..3379"><span>ran_app</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5988..5989"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6009..6010"><span>b</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6098..6103">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.fmem_smem|fact"><span class="entity_def" id="Functions.Function.fmem_smem|fact"><span class="entity_def" id="Functions.Function_class.fmem_smem|thm"><span class="entity_def" id="Functions.Function.fmem_smem|thm"><span class="entity_def" id="offset_6104..6113">fmem_smem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetMem|const"><span>SetMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6098..6103"><span>assms</span></a><span> </span><span>setmemI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2091..2095"><span>domI</span></a><span class="main"><span>]</span></span><span> </span><span>setmemI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2969..2973"><span>ranI</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_85..92"><span>FunMem_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tex_def|fact"><span>tex_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Restrictions on functions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Restriction of functions by a predicate</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_funpred|fact"><span class="entity_def" id="Functions.Function.restrict_funpred|fact"><span class="entity_def" id="Functions.Function_class.restrict_funpred|thm"><span class="entity_def" id="Functions.Function.restrict_funpred|thm"><span class="entity_def" id="offset_6374..6390">restrict_funpred</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6403..6404">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_319..327"><span>funpredI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><span>Uniq_def</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_491..498"><span>app_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6403..6404"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.restrict_def|fact"><span class="entity_def" id="Functions.Function.restrict_def|fact"><span class="entity_def" id="Functions.Function_class.restrict_def|thm"><span class="entity_def" id="Functions.Function.restrict_def|thm"><span class="entity_def" id="Functions.Function.restrict_def_raw|axiom"><span class="entity_def" id="offset_6554..6564">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.restrict_dict|fact"><span class="entity_def" id="Functions.Function.restrict.cong|fact"><span class="entity_def" id="Functions.Function_class.restrict_dict|thm"><span class="entity_def" id="Functions.Function.restrict.cong|thm"><span class="entity_def" id="Functions.Function_class.restrict_dict|axiom"><span class="entity_def" id="Functions.Function_class.restrict|const"><span class="entity_def" id="Functions.Function.restrict|const"><span>restrict</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>⌈</span></span><span>›</span></span><span> 60</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="free"><span>⌈</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_typ|fact"><span class="entity_def" id="Functions.Function.restrict_typ|fact"><span class="entity_def" id="Functions.Function_class.restrict_typ|thm"><span class="entity_def" id="Functions.Function.restrict_typ|thm"><span class="entity_def" id="offset_6679..6691">restrict_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>restrict</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.Any|const"><span>Any</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6554..6564"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_174..183"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6374..6390"><span>restrict_funpred</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_fun|fact"><span class="entity_def" id="Functions.Function.restrict_fun|fact"><span class="entity_def" id="Functions.Function_class.restrict_fun|thm"><span class="entity_def" id="Functions.Function.restrict_fun|thm"><span class="entity_def" id="offset_6841..6853">restrict_fun</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6679..6691"><span>restrict_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.anyI|fact"><span>anyI</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_iff|fact"><span class="entity_def" id="Functions.Function.restrict_iff|fact"><span class="entity_def" id="Functions.Function_class.restrict_iff|thm"><span class="entity_def" id="Functions.Function.restrict_iff|thm"><span class="entity_def" id="offset_6899..6911">restrict_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6924..6925">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6554..6564"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_782..791"><span>mkfun_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6924..6925"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> 
            </span><a class="entity_ref" href="Functions.html#offset_6374..6390"><span>restrict_funpred</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6924..6925"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1982..1989"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6924..6925"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5216..5224"><span>funmemI1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6924..6925"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5362..5370"><span>funmemI2</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6924..6925"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrictI|fact"><span class="entity_def" id="Functions.Function.restrictI|fact"><span class="entity_def" id="Functions.Function_class.restrictI|thm"><span class="entity_def" id="Functions.Function.restrictI|thm"><span class="entity_def" id="offset_7145..7154">restrictI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7168..7169">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7191..7192">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7203..7206">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7168..7169"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7191..7192"><span>b</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_7203..7206"><span>app</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrictD1|fact"><span class="entity_def" id="Functions.Function.restrictD1|fact"><span class="entity_def" id="Functions.Function_class.restrictD1|thm"><span class="entity_def" id="Functions.Function.restrictD1|thm"><span class="entity_def" id="offset_7293..7303">restrictD1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7317..7318">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7344..7347">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7317..7318"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7344..7347"><span>app</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrictD2|fact"><span class="entity_def" id="Functions.Function.restrictD2|fact"><span class="entity_def" id="Functions.Function_class.restrictD2|thm"><span class="entity_def" id="Functions.Function.restrictD2|thm"><span class="entity_def" id="offset_7428..7438">restrictD2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7452..7453">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7479..7482">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7452..7453"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7479..7482"><span>app</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_dom|fact"><span class="entity_def" id="Functions.Function.restrict_dom|fact"><span class="entity_def" id="Functions.Function_class.restrict_dom|thm"><span class="entity_def" id="Functions.Function.restrict_dom|thm"><span class="entity_def" id="offset_7569..7581">restrict_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7594..7595">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1982..1989"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6841..6853"><span>restrict_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7594..7595"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
            </span><a class="entity_ref" href="Functions.html#offset_1982..1989"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7594..7595"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7594..7595"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_domI|fact"><span class="entity_def" id="Functions.Function.restrict_domI|fact"><span class="entity_def" id="Functions.Function_class.restrict_domI|thm"><span class="entity_def" id="Functions.Function.restrict_domI|thm"><span>restrict_domI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7788..7789">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7816..7817">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7569..7581"><span>restrict_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7788..7789"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7816..7817"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_domD|fact"><span class="entity_def" id="Functions.Function.restrict_domD|fact"><span class="entity_def" id="Functions.Function_class.restrict_domD|thm"><span class="entity_def" id="Functions.Function.restrict_domD|thm"><span>restrict_domD</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>iffD1</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7569..7581"><span>restrict_dom</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_app|fact"><span class="entity_def" id="Functions.Function.restrict_app|fact"><span class="entity_def" id="Functions.Function_class.restrict_app|thm"><span class="entity_def" id="Functions.Function.restrict_app|thm"><span class="entity_def" id="offset_7955..7967">restrict_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7981..7982">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8009..8010">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8021..8024">dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1116..1123"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6841..6853"><span>restrict_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7981..7982"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7569..7581"><span>restrict_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7981..7982"><span>f</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8009..8010"><span>b</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_8021..8024"><span>dom</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2324..2334"><span>funapp_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7981..7982"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_8021..8024"><span>dom</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7981..7982"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8009..8010"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_default|fact"><span class="entity_def" id="Functions.Function.restrict_default|fact"><span class="entity_def" id="Functions.Function_class.restrict_default|thm"><span class="entity_def" id="Functions.Function.restrict_default|thm"><span class="entity_def" id="offset_8334..8350">restrict_default</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8363..8364">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8390..8391">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1277..1291"><span>funapp_default</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6841..6853"><span>restrict_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8363..8364"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8363..8364"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8390..8391"><span>b</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Restriction of functions by a set</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.set_restrict_def|fact"><span class="entity_def" id="Functions.Function.set_restrict_def|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_def|thm"><span class="entity_def" id="Functions.Function.set_restrict_def|thm"><span class="entity_def" id="Functions.Function.set_restrict_def_raw|axiom"><span class="entity_def" id="offset_8583..8593">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.set_restrict_dict|fact"><span class="entity_def" id="Functions.Function.set_restrict.cong|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_dict|thm"><span class="entity_def" id="Functions.Function.set_restrict.cong|thm"><span class="entity_def" id="Functions.Function_class.set_restrict_dict|axiom"><span class="entity_def" id="Functions.Function_class.set_restrict|const"><span class="entity_def" id="Functions.Function.set_restrict|const"><span>set_restrict</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>↾</span></span><span>›</span></span><span> 60</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="free"><span>↾</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_typ|fact"><span class="entity_def" id="Functions.Function.set_restrict_typ|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_typ|thm"><span class="entity_def" id="Functions.Function.set_restrict_typ|thm"><span class="entity_def" id="offset_8682..8698">set_restrict_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>restrict</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.Any|const"><span>Any</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6554..6564"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_174..183"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6374..6390"><span>restrict_funpred</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_fun|fact"><span class="entity_def" id="Functions.Function.set_restrict_fun|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_fun|thm"><span class="entity_def" id="Functions.Function.set_restrict_fun|thm"><span>set_restrict_fun</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8682..8698"><span>set_restrict_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.anyI|fact"><span>anyI</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_iff|fact"><span class="entity_def" id="Functions.Function.set_restrict_iff|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_iff|thm"><span class="entity_def" id="Functions.Function.set_restrict_iff|thm"><span>set_restrict_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8943..8944">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6899..6911"><span>restrict_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8943..8944"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9061..9066">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrictI|fact"><span class="entity_def" id="Functions.Function.set_restrictI|fact"><span class="entity_def" id="Functions.Function_class.set_restrictI|thm"><span class="entity_def" id="Functions.Function.set_restrictI|thm"><span>set_restrictI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7145..7154"><span>restrictI</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9061..9066"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9235..9240">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrictD1|fact"><span class="entity_def" id="Functions.Function.set_restrictD1|fact"><span class="entity_def" id="Functions.Function_class.set_restrictD1|thm"><span class="entity_def" id="Functions.Function.set_restrictD1|thm"><span>set_restrictD1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7293..7303"><span>restrictD1</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9235..9240"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9401..9406">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrictD2|fact"><span class="entity_def" id="Functions.Function.set_restrictD2|fact"><span class="entity_def" id="Functions.Function_class.set_restrictD2|thm"><span class="entity_def" id="Functions.Function.set_restrictD2|thm"><span>set_restrictD2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7428..7438"><span>restrictD2</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9401..9406"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9570..9575">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_dom|fact"><span class="entity_def" id="Functions.Function.set_restrict_dom|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_dom|thm"><span class="entity_def" id="Functions.Function.set_restrict_dom|thm"><span class="entity_def" id="offset_9576..9592">set_restrict_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7569..7581"><span>restrict_dom</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9570..9575"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_domI|fact"><span class="entity_def" id="Functions.Function.set_restrict_domI|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_domI|thm"><span class="entity_def" id="Functions.Function.set_restrict_domI|thm"><span>set_restrict_domI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9772..9773">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9800..9801">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9576..9592"><span>set_restrict_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9772..9773"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9800..9801"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_domD|fact"><span class="entity_def" id="Functions.Function.set_restrict_domD|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_domD|thm"><span class="entity_def" id="Functions.Function.set_restrict_domD|thm"><span>set_restrict_domD</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>iffD1</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9576..9592"><span>set_restrict_dom</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9947..9952">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_app|fact"><span class="entity_def" id="Functions.Function.set_restrict_app|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_app|thm"><span class="entity_def" id="Functions.Function.set_restrict_app|thm"><span>set_restrict_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7955..7967"><span>restrict_app</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9947..9952"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10140..10145">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_default|fact"><span class="entity_def" id="Functions.Function.set_restrict_default|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_default|thm"><span class="entity_def" id="Functions.Function.set_restrict_default|thm"><span>set_restrict_default</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8583..8593"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8334..8350"><span>restrict_default</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_10140..10145"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Partial Functions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_def|fact"><span class="entity_def" id="Functions.Function.typish_partial_fun_def|fact"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_partial_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_partial_fun_def_raw|axiom"><span class="entity_def" id="offset_10360..10370">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_dict|fact"><span class="entity_def" id="Functions.Function.typish_partial_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_dict|thm"><span class="entity_def" id="Functions.Function.typish_partial_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.typish_partial_fun|const"><span class="entity_def" id="Functions.Function.typish_partial_fun|const"><span>typish_partial_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>⇸''</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>⇸'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>¦</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.partial_fun_def|fact"><span class="entity_def" id="Functions.Function.partial_fun_def|fact"><span class="entity_def" id="Functions.Function_class.partial_fun_def|thm"><span class="entity_def" id="Functions.Function.partial_fun_def|thm"><span class="entity_def" id="Functions.Function.partial_fun_def_raw|axiom"><span>definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.partial_fun_dict|fact"><span class="entity_def" id="Functions.Function.partial_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.partial_fun_dict|thm"><span class="entity_def" id="Functions.Function.partial_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.partial_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.partial_fun|const"><span class="entity_def" id="Functions.Function.partial_fun|const"><span>partial_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>⇸</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>⇸</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>¦</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_fun|fact"><span class="entity_def" id="Functions.Function.pfun_fun|fact"><span class="entity_def" id="Functions.Function_class.pfun_fun|thm"><span class="entity_def" id="Functions.Function.pfun_fun|thm"><span class="entity_def" id="offset_10621..10629">pfun_fun</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10642..10643">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10642..10643"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10360..10370"><span>typish_partial_fun_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intE1|fact"><span>intE1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfunI|fact"><span class="entity_def" id="Functions.Function.pfunI|fact"><span class="entity_def" id="Functions.Function_class.pfunI|thm"><span class="entity_def" id="Functions.Function.pfunI|thm"><span>pfunI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10770..10771">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10797..10799">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10360..10370"><span>typish_partial_fun_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intI|fact"><span>intI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10770..10771"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10797..10799"><span>xy</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfunE|fact"><span class="entity_def" id="Functions.Function.pfunE|fact"><span class="entity_def" id="Functions.Function_class.pfunE|thm"><span class="entity_def" id="Functions.Function.pfunE|thm"><span class="entity_def" id="offset_10948..10953">pfunE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10966..10967">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
     </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10991..10993">ab</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10966..10967"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_10991..10993"><span>ab</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10360..10370"><span>typish_partial_fun_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty_def|fact"><span>inter_ty_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_dom|fact"><span class="entity_def" id="Functions.Function.pfun_dom|fact"><span class="entity_def" id="Functions.Function_class.pfun_dom|thm"><span class="entity_def" id="Functions.Function.pfun_dom|thm"><span>pfun_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11139..11140">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11165..11166">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11179..11182">dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2203..2207"><span>domE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10621..10629"><span>pfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11139..11140"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11179..11182"><span>dom</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span>hence</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1116..1123"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10621..10629"><span>pfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11139..11140"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10948..10953"><span>pfunE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11139..11140"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_11165..11166"><span>b</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_app|fact"><span class="entity_def" id="Functions.Function.pfun_app|fact"><span class="entity_def" id="Functions.Function_class.pfun_app|thm"><span class="entity_def" id="Functions.Function.pfun_app|thm"><span class="entity_def" id="offset_11418..11426">pfun_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11440..11441">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11459..11460">a</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11479..11490">not_default</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10948..10953"><span>pfunE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11440..11441"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_11459..11460"><span>a</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1476..1483"><span>funappE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10621..10629"><span>pfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11440..11441"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> _ </span><a class="entity_ref" href="Functions.html#offset_11479..11490"><span>not_default</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_app_disj|fact"><span class="entity_def" id="Functions.Function.pfun_app_disj|fact"><span class="entity_def" id="Functions.Function_class.pfun_app_disj|thm"><span class="entity_def" id="Functions.Function.pfun_app_disj|thm"><span>pfun_app_disj</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11647..11648">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11666..11667">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11418..11426"><span>pfun_app</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11647..11648"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_11666..11667"><span>b</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Total Functions</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>Consider changing soft-type arrow for ('a ⇒ 'b) to ⇒ or ⇛, then use → for 'a-functions </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.typish_total_fun_def|fact"><span class="entity_def" id="Functions.Function.typish_total_fun_def|fact"><span class="entity_def" id="Functions.Function_class.typish_total_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_total_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_total_fun_def_raw|axiom"><span class="entity_def" id="offset_11878..11888">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.typish_total_fun_dict|fact"><span class="entity_def" id="Functions.Function.typish_total_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.typish_total_fun_dict|thm"><span class="entity_def" id="Functions.Function.typish_total_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.typish_total_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.typish_total_fun|const"><span class="entity_def" id="Functions.Function.typish_total_fun|const"><span>typish_total_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>↝''</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>↝'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>¦</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.typish_tfunI|fact"><span class="entity_def" id="Functions.Function.typish_tfunI|fact"><span class="entity_def" id="Functions.Function_class.typish_tfunI|thm"><span class="entity_def" id="Functions.Function.typish_tfunI|thm"><span>typish_tfunI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12027..12028">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12054..12056">bc</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_total_fun|const"><span>↝'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11878..11888"><span>typish_total_fun_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intI|fact"><span>intI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12027..12028"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12054..12056"><span>bc</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.total_fun_def|fact"><span class="entity_def" id="Functions.Function.total_fun_def|fact"><span class="entity_def" id="Functions.Function_class.total_fun_def|thm"><span class="entity_def" id="Functions.Function.total_fun_def|thm"><span class="entity_def" id="Functions.Function.total_fun_def_raw|axiom"><span class="entity_def" id="offset_12176..12186">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.total_fun_dict|fact"><span class="entity_def" id="Functions.Function.total_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.total_fun_dict|thm"><span class="entity_def" id="Functions.Function.total_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.total_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.total_fun|const"><span class="entity_def" id="Functions.Function.total_fun|const"><span>total_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>─t→</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>─t→</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_total_fun|const"><span>↝'</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>¦</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.tfunI|fact"><span class="entity_def" id="Functions.Function.tfunI|fact"><span class="entity_def" id="Functions.Function_class.tfunI|thm"><span class="entity_def" id="Functions.Function.tfunI|thm"><span>tfunI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12312..12313">f</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_total_fun|const"><span>↝'</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12341..12343">df</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Functions.html#Functions.Function_class.total_fun|const"><span>─t→</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12176..12186"><span>total_fun_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intI|fact"><span>intI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12312..12313"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12341..12343"><span>df</span></a><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Forming functions from ('a=&gt;'a)-operators</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.any_funpredI|fact"><span class="entity_def" id="Functions.Function.any_funpredI|fact"><span class="entity_def" id="Functions.Function_class.any_funpredI|thm"><span class="entity_def" id="Functions.Function.any_funpredI|thm"><span class="entity_def" id="offset_12513..12525">any_funpredI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_319..327"><span>funpredI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><span>Uniq_def</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.lam_def|fact"><span class="entity_def" id="Functions.Function.lam_def|fact"><span class="entity_def" id="Functions.Function_class.lam_def|thm"><span class="entity_def" id="Functions.Function.lam_def|thm"><span class="entity_def" id="Functions.Function.lam_def_raw|axiom"><span>definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.lam_dict|fact"><span class="entity_def" id="Functions.Function.lam.cong|fact"><span class="entity_def" id="Functions.Function_class.lam_dict|thm"><span class="entity_def" id="Functions.Function.lam.cong|thm"><span class="entity_def" id="Functions.Function_class.lam_dict|axiom"><span class="entity_def" id="Functions.Function_class.lam|const"><span class="entity_def" id="Functions.Function.lam|const"><span>lam</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lam</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span>
  </span><span class="quoted"><span>"</span><span>_lam_set</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span>pttrn</span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword3"><span>(3</span></span><span class="keyword1"><span>λ</span></span><span>_</span><span class="keyword1"><span>∈</span></span><span>_</span><span class="keyword1"><span>.</span></span><span class="keyword3"><span>/ </span></span><span>_</span><span class="keyword3"><span>)</span></span><span>›</span></span><span> 10</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span><span> </span><span class="main"><span>⇌</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.lam|const"><span>lam</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="free"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span class="main"><span>)</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12823..12830">context</span></span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function|locale"><span>Function</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_fun|fact"><span class="entity_def" id="Functions.Function.lam_fun|fact"><span class="entity_def" id="Functions.Function_class.lam_fun|thm"><span class="entity_def" id="Functions.Function.lam_fun|thm"><span class="entity_def" id="offset_12853..12860">lam_fun</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12873..12874">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12823..12830"><span>lam_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_174..183"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12873..12874"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_12513..12525"><span>any_funpredI</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_iff|fact"><span class="entity_def" id="Functions.Function.lam_iff|fact"><span class="entity_def" id="Functions.Function_class.lam_iff|thm"><span class="entity_def" id="Functions.Function.lam_iff|thm"><span class="entity_def" id="offset_12991..12998">lam_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13011..13012">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12823..12830"><span>lam_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#offset_12823..12830"><span>fun</span></a><span>"</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13011..13012"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_12513..12525"><span>any_funpredI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_iff&apos;|fact"><span class="entity_def" id="Functions.Function.lam_iff&apos;|fact"><span class="entity_def" id="Functions.Function_class.lam_iff&apos;|thm"><span class="entity_def" id="Functions.Function.lam_iff&apos;|thm"><span>lam_iff'</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13187..13188">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12823..12830"><span>lam_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#offset_12823..12830"><span>fun</span></a><span>"</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13187..13188"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_12513..12525"><span>any_funpredI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_app|fact"><span class="entity_def" id="Functions.Function.lam_app|fact"><span class="entity_def" id="Functions.Function_class.lam_app|thm"><span class="entity_def" id="Functions.Function.lam_app|thm"><span class="entity_def" id="offset_13331..13338">lam_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13351..13352">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13367..13368">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13397..13398">b</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1116..1123"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13351..13352"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12991..12998"><span>lam_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13351..13352"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13397..13398"><span>b</span></a><span> </span><span>mem_funE</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13367..13368"><span>F</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_dom|fact"><span class="entity_def" id="Functions.Function.lam_dom|fact"><span class="entity_def" id="Functions.Function_class.lam_dom|thm"><span class="entity_def" id="Functions.Function.lam_dom|thm"><span>lam_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13586..13587">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13611..13612">F</span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>equality_iffI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_224..231"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> 
                             </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
       </span><span class="operator"><span>unfold</span></span><span> </span><span>collect_iff</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1982..1989"><span>dom_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span>       
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12991..12998"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12991..12998"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span>setof_mem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13586..13587"><span>x</span></a><span class="main"><span>]</span></span><span> 
          </span><span>mem_funE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13611..13612"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_ran|fact"><span class="entity_def" id="Functions.Function.lam_ran|fact"><span class="entity_def" id="Functions.Function_class.lam_ran|thm"><span class="entity_def" id="Functions.Function.lam_ran|thm"><span>lam_ran</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14164..14165">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14189..14190">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14269..14273">func</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14164..14165"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_14353..14356">set</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>repfun_set</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14164..14165"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>equality_iffI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14269..14273"><span>func</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14353..14356"><span>set</span></a><span class="main"><span>]</span></span><span>
           </span><span>mem_funE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14189..14190"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span>setof_mem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14164..14165"><span>x</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6104..6113"><span>fmem_smem</span></a><span>
     </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>repfun_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14164..14165"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2824..2831"><span>ran_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14269..14273"><span>func</span></a><span class="main"><span>]</span></span><span> 
               </span><a class="entity_ref" href="Functions.html#offset_12991..12998"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14164..14165"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span>bex_def</span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.rex_def|fact"><span>rex_def</span></a><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_ran_setof|fact"><span class="entity_def" id="Functions.Function.lam_ran_setof|fact"><span class="entity_def" id="Functions.Function_class.lam_ran_setof|thm"><span class="entity_def" id="Functions.Function.lam_ran_setof|thm"><span>lam_ran_setof</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14721..14722">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14744..14745">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>setofI</span><span class="main"><span>)</span></span><span>   
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2933..2940"><span>ran_set</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14721..14722"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2824..2831"><span>ran_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14721..14722"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12991..12998"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14721..14722"><span>x</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mem_funE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14744..14745"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_cong|fact"><span class="entity_def" id="Functions.Function.lam_cong|fact"><span class="entity_def" id="Functions.Function_class.lam_cong|thm"><span class="entity_def" id="Functions.Function.lam_cong|thm"><span class="entity_def" id="offset_15050..15058">lam_cong</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15070..15071">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15089..15091">eq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_624..631"><span>fun_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15070..15071"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12853..12860"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15070..15071"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12991..12998"><span>lam_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15070..15071"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15089..15091"><span>eq</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span> 
 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_flatten|fact"><span class="entity_def" id="Functions.Function.lam_flatten|fact"><span class="entity_def" id="Functions.Function_class.lam_flatten|thm"><span class="entity_def" id="Functions.Function.lam_flatten|thm"><span>lam_flatten</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15284..15285">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15316..15317">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_sig_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15050..15058"><span>lam_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15284..15285"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13331..13338"><span>lam_app</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15284..15285"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15316..15317"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span>setof_mem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15284..15285"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  

</span><span class="comment1"><span>(</span><span>*</span><span> lemma lam_tfun :
  assumes x:"x : SetOf FunMem" and y:"y : SetOf FunMem" 
      and F:"F : MemOf x → MemOf y" 
    shows "(λb∈x. F b) : x ↝ y"
proof (rule tfunI[OF lam_fun[OF x]])
  show Fmem:"F : MemOf x → FunMem"
  proof (rule funI)
    fix b assume "b : MemOf x"
    hence "F b : MemOf y" by (rule funE[OF F])
    thus "F b : FunMem" by (rule setof_mem[OF y memofD])
  qed
  fix b assume "b ∈ x"
  hence "F b ∈ y" using funE[OF F] unfolding MemOf_def by (unfold_typs)
  moreover have "app (lam x F) b (F b)" using lam_iff[OF x Fmem] ‹b ∈ x› by auto
  ultimately show "∃c. c ∈ y ∧ app (lam x F) b c" by auto
qed </span><span>*</span><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>