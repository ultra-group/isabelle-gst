<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Functions</title>
</head>


<body>
<div class="head">
<h1>Theory Functions</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Functions</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><span class="quoted"><span>"</span><a href="SetComprehension.html"><span>../GZF/SetComprehension</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="SetCombinators.html"><span>../GZF/SetCombinators</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function|locale"><span>Function</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><span>mkfun_typ</span><span> </span><span>dom_typ</span><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><span>mkfun_ax</span><span> </span><span>fun_prop</span><span> </span><span>fun_ext</span><span> </span><span>fun_dom</span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.mkfun_fun|fact"><span class="entity_def" id="Functions.Function.mkfun_fun|fact"><span class="entity_def" id="Functions.Function_class.mkfun_fun|thm"><span class="entity_def" id="Functions.Function.mkfun_fun|thm"><span class="entity_def" id="offset_177..186">mkfun_fun</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.depfunE|fact"><span>depfunE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>mkfun_typ</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.dom_set|fact"><span class="entity_def" id="Functions.Function.dom_set|fact"><span class="entity_def" id="Functions.Function_class.dom_set|thm"><span class="entity_def" id="Functions.Function.dom_set|thm"><span class="entity_def" id="offset_227..234">dom_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>dom_typ</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Basic properties of function application relation</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_316..321">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funpredI|fact"><span class="entity_def" id="Functions.Function.funpredI|fact"><span class="entity_def" id="Functions.Function_class.funpredI|thm"><span class="entity_def" id="Functions.Function.funpredI|thm"><span class="entity_def" id="offset_322..330">funpredI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃<span class="hidden">⇩</span><sub>≤</sub><span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_316..321"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>FunPred_def</span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tall_def|fact"><span>tall_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.app_eqI|fact"><span class="entity_def" id="Functions.Function.app_eqI|fact"><span class="entity_def" id="Functions.Function_class.app_eqI|thm"><span class="entity_def" id="Functions.Function.app_eqI|thm"><span class="entity_def" id="offset_494..501">app_eqI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_514..515">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_538..539">y</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_556..557">z</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_prop</span><span> </span><a class="entity_ref" href="Functions.html#offset_514..515"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_538..539"><span>y</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_556..557"><span>z</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.fun_eqI|fact"><span class="entity_def" id="Functions.Function.fun_eqI|fact"><span class="entity_def" id="Functions.Function_class.fun_eqI|thm"><span class="entity_def" id="Functions.Function.fun_eqI|thm"><span class="entity_def" id="offset_627..634">fun_eqI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_647..648">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_668..669">g</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_695..697">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_ext</span><span> </span><a class="entity_ref" href="Functions.html#offset_647..648"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_668..669"><span>g</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_695..697"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.mkfun_iff|fact"><span class="entity_def" id="Functions.Function.mkfun_iff|fact"><span class="entity_def" id="Functions.Function_class.mkfun_iff|thm"><span class="entity_def" id="Functions.Function.mkfun_iff|thm"><span class="entity_def" id="offset_785..794">mkfun_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_808..809">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_824..825">P</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mkfun_ax</span><span> </span><a class="entity_ref" href="Functions.html#offset_808..809"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_824..825"><span>P</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>



</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Function application operator</span><span>›</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>rapp and fapp</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.funapp_def|fact"><span class="entity_def" id="Functions.Function.funapp_def|fact"><span class="entity_def" id="Functions.Function_class.funapp_def|thm"><span class="entity_def" id="Functions.Function.funapp_def|thm"><span class="entity_def" id="Functions.Function.funapp_def_raw|axiom"><span class="entity_def" id="offset_1004..1014">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.funapp_dict|fact"><span class="entity_def" id="Functions.Function.funapp.cong|fact"><span class="entity_def" id="Functions.Function_class.funapp_dict|thm"><span class="entity_def" id="Functions.Function.funapp.cong|thm"><span class="entity_def" id="Functions.Function_class.funapp_dict|axiom"><span class="entity_def" id="Functions.Function_class.funapp|const"><span class="entity_def" id="Functions.Function.funapp|const"><span>funapp</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>`</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>funapp</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_default|const"><span>ι'</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funappI|fact"><span class="entity_def" id="Functions.Function.funappI|fact"><span class="entity_def" id="Functions.Function_class.funappI|thm"><span class="entity_def" id="Functions.Function.funappI|thm"><span class="entity_def" id="offset_1122..1129">funappI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1142..1143">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1163..1166">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1004..1014"><span>funapp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_def_eq|fact"><span>the_def_eq</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1163..1166"><span>app</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_494..501"><span>app_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1142..1143"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funapp_default|fact"><span class="entity_def" id="Functions.Function.funapp_default|fact"><span class="entity_def" id="Functions.Function_class.funapp_default|thm"><span class="entity_def" id="Functions.Function.funapp_default|thm"><span class="entity_def" id="offset_1283..1297">funapp_default</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1339..1342">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>¬</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1004..1014"><span>funapp_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_def_default|fact"><span>the_def_default</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1339..1342"><span>app</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funappE|fact"><span class="entity_def" id="Functions.Function.funappE|fact"><span class="entity_def" id="Functions.Function_class.funappE|thm"><span class="entity_def" id="Functions.Function.funappE|thm"><span class="entity_def" id="offset_1482..1489">funappE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1523..1525">eq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1547..1548">y</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>∃!</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1004..1014"><span>funapp_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_defI&apos;|fact"><span>the_defI'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1523..1525"><span>eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_1775..1776">d</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1004..1014"><span>funapp_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.the_def_default|fact"><span>the_def_default</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1523..1525"><span>eq</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_1547..1548"><span>y</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_1775..1776"><span>d</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Domain, Range, and Field</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Domain of function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.dom_iff|fact"><span class="entity_def" id="Functions.Function.dom_iff|fact"><span class="entity_def" id="Functions.Function_class.dom_iff|thm"><span class="entity_def" id="Functions.Function.dom_iff|thm"><span class="entity_def" id="offset_1988..1995">dom_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2008..2009">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_dom</span><span> </span><a class="entity_ref" href="Functions.html#offset_2008..2009"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.domI|fact"><span class="entity_def" id="Functions.Function.domI|fact"><span class="entity_def" id="Functions.Function_class.domI|thm"><span class="entity_def" id="Functions.Function.domI|thm"><span class="entity_def" id="offset_2097..2101">domI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2114..2115">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2135..2137">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_dom</span><span> </span><a class="entity_ref" href="Functions.html#offset_2114..2115"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2135..2137"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.domE|fact"><span class="entity_def" id="Functions.Function.domE|fact"><span class="entity_def" id="Functions.Function_class.domE|thm"><span class="entity_def" id="Functions.Function.domE|thm"><span class="entity_def" id="offset_2209..2213">domE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2227..2228">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2248..2250">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_dom</span><span> </span><a class="entity_ref" href="Functions.html#offset_2227..2228"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2248..2250"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funapp_dom|fact"><span class="entity_def" id="Functions.Function.funapp_dom|fact"><span class="entity_def" id="Functions.Function_class.funapp_dom|thm"><span class="entity_def" id="Functions.Function.funapp_dom|thm"><span class="entity_def" id="offset_2330..2340">funapp_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2353..2354">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2374..2375">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2442..2443">z</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2209..2213"><span>domE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2353..2354"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2374..2375"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1122..1129"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2353..2354"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2442..2443"><span>z</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.mkfun_dom|fact"><span class="entity_def" id="Functions.Function.mkfun_dom|fact"><span class="entity_def" id="Functions.Function_class.mkfun_dom|thm"><span class="entity_def" id="Functions.Function.mkfun_dom|thm"><span>mkfun_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2602..2603">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2618..2619">P</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> 
    </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1988..1995"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_177..186"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2602..2603"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2618..2619"><span>P</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_785..794"><span>mkfun_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2602..2603"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2618..2619"><span>P</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Range of Function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_iff|fact"><span class="entity_def" id="Functions.Function.ran_iff|fact"><span class="entity_def" id="Functions.Function_class.ran_iff|thm"><span class="entity_def" id="Functions.Function.ran_iff|thm"><span class="entity_def" id="offset_2830..2837">ran_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2850..2851">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_ran</span><span> </span><a class="entity_ref" href="Functions.html#offset_2850..2851"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_set|fact"><span class="entity_def" id="Functions.Function.ran_set|fact"><span class="entity_def" id="Functions.Function_class.ran_set|thm"><span class="entity_def" id="Functions.Function.ran_set|thm"><span class="entity_def" id="offset_2939..2946">ran_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>ran_typ</span><span class="main"><span>]</span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ranI|fact"><span class="entity_def" id="Functions.Function.ranI|fact"><span class="entity_def" id="Functions.Function_class.ranI|thm"><span class="entity_def" id="Functions.Function.ranI|thm"><span class="entity_def" id="offset_2975..2979">ranI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2993..2994">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3021..3022">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_ran</span><span> </span><a class="entity_ref" href="Functions.html#offset_2993..2994"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3021..3022"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ranE|fact"><span class="entity_def" id="Functions.Function.ranE|fact"><span class="entity_def" id="Functions.Function_class.ranE|thm"><span class="entity_def" id="Functions.Function.ranE|thm"><span class="entity_def" id="offset_3093..3097">ranE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3110..3111">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3131..3132">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>fun_ran</span><span> </span><a class="entity_ref" href="Functions.html#offset_3110..3111"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3131..3132"><span>b</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2097..2101"><span>domI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_appE|fact"><span class="entity_def" id="Functions.Function.ran_appE|fact"><span class="entity_def" id="Functions.Function_class.ran_appE|thm"><span class="entity_def" id="Functions.Function.ran_appE|thm"><span>ran_appE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3248..3249">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3269..3270">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3093..3097"><span>ranE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3248..3249"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3269..3270"><span>b</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1122..1129"><span>funappI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3248..3249"><span>f</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_app|fact"><span class="entity_def" id="Functions.Function.ran_app|fact"><span class="entity_def" id="Functions.Function_class.ran_app|thm"><span class="entity_def" id="Functions.Function.ran_app|thm"><span class="entity_def" id="offset_3378..3385">ran_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3398..3399">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3425..3426">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2975..2979"><span>ranI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3398..3399"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2209..2213"><span>domE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3398..3399"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3425..3426"><span>b</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1122..1129"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3398..3399"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>  

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Field of a function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.field_def|fact"><span class="entity_def" id="Functions.Function.field_def|fact"><span class="entity_def" id="Functions.Function_class.field_def|thm"><span class="entity_def" id="Functions.Function.field_def|thm"><span class="entity_def" id="Functions.Function.field_def_raw|axiom"><span class="entity_def" id="offset_3578..3588">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.field_dict|fact"><span class="entity_def" id="Functions.Function.field.cong|fact"><span class="entity_def" id="Functions.Function_class.field_dict|thm"><span class="entity_def" id="Functions.Function.field.cong|thm"><span class="entity_def" id="Functions.Function_class.field_dict|axiom"><span class="entity_def" id="Functions.Function_class.field|const"><span class="entity_def" id="Functions.Function.field|const"><span>field</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>field</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_typ|fact"><span class="entity_def" id="Functions.Function.field_typ|fact"><span class="entity_def" id="Functions.Function_class.field_typ|thm"><span class="entity_def" id="Functions.Function.field_typ|thm"><span class="entity_def" id="offset_3649..3658">field_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3578..3588"><span>field_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>un_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_set|fact"><span class="entity_def" id="Functions.Function.field_set|fact"><span class="entity_def" id="Functions.Function_class.field_set|thm"><span class="entity_def" id="Functions.Function.field_set|thm"><span>field_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3649..3658"><span>field_typ</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_iff|fact"><span class="entity_def" id="Functions.Function.field_iff|fact"><span class="entity_def" id="Functions.Function_class.field_iff|thm"><span class="entity_def" id="Functions.Function.field_iff|thm"><span class="entity_def" id="offset_3802..3811">field_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3824..3825">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3578..3588"><span>field_def</span></a><span> </span><span>un_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3824..3825"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3824..3825"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>rule</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_dom_subset|fact"><span class="entity_def" id="Functions.Function.field_dom_subset|fact"><span class="entity_def" id="Functions.Function_class.field_dom_subset|thm"><span class="entity_def" id="Functions.Function.field_dom_subset|thm"><span class="entity_def" id="offset_3968..3984">field_dom_subset</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3997..3998">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3578..3588"><span>field_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>un_subset1</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3997..3998"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3997..3998"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_ran_subset|fact"><span class="entity_def" id="Functions.Function.field_ran_subset|fact"><span class="entity_def" id="Functions.Function_class.field_ran_subset|thm"><span class="entity_def" id="Functions.Function.field_ran_subset|thm"><span class="entity_def" id="offset_4126..4142">field_ran_subset</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4155..4156">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3578..3588"><span>field_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>un_subset2</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4155..4156"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4155..4156"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_domI|fact"><span class="entity_def" id="Functions.Function.field_domI|fact"><span class="entity_def" id="Functions.Function_class.field_domI|thm"><span class="entity_def" id="Functions.Function.field_domI|thm"><span>field_domI</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3968..3984"><span>field_dom_subset</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_ranI|fact"><span class="entity_def" id="Functions.Function.field_ranI|fact"><span class="entity_def" id="Functions.Function_class.field_ranI|thm"><span class="entity_def" id="Functions.Function.field_ranI|thm"><span>field_ranI</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4126..4142"><span>field_ran_subset</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_disjE|fact"><span class="entity_def" id="Functions.Function.field_disjE|fact"><span class="entity_def" id="Functions.Function_class.field_disjE|thm"><span class="entity_def" id="Functions.Function.field_disjE|thm"><span>field_disjE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4407..4408">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4428..4429">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>dom</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>ran</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4428..4429"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3802..3811"><span>field_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4407..4408"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_app_iff|fact"><span class="entity_def" id="Functions.Function.field_app_iff|fact"><span class="entity_def" id="Functions.Function_class.field_app_iff|thm"><span class="entity_def" id="Functions.Function.field_app_iff|thm"><span class="entity_def" id="offset_4570..4583">field_app_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4596..4597">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3802..3811"><span>field_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4596..4597"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1988..1995"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4596..4597"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2830..2837"><span>ran_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4596..4597"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_appI1|fact"><span class="entity_def" id="Functions.Function.field_appI1|fact"><span class="entity_def" id="Functions.Function_class.field_appI1|thm"><span class="entity_def" id="Functions.Function.field_appI1|thm"><span>field_appI1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4764..4765">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4785..4788">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4570..4583"><span>field_app_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4764..4765"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4785..4788"><span>app</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_appI2|fact"><span class="entity_def" id="Functions.Function.field_appI2|fact"><span class="entity_def" id="Functions.Function_class.field_appI2|thm"><span class="entity_def" id="Functions.Function.field_appI2|thm"><span>field_appI2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4898..4899">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4919..4922">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4570..4583"><span>field_app_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4898..4899"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4919..4922"><span>app</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_app_disjE|fact"><span class="entity_def" id="Functions.Function.field_app_disjE|fact"><span class="entity_def" id="Functions.Function_class.field_app_disjE|thm"><span class="entity_def" id="Functions.Function.field_app_disjE|thm"><span>field_app_disjE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5036..5037">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5057..5058">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>dom</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>ran</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_4570..4583"><span>field_app_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5036..5037"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5057..5058"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>FunMem soft-type</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funmemI1|fact"><span class="entity_def" id="Functions.Function.funmemI1|fact"><span class="entity_def" id="Functions.Function_class.funmemI1|thm"><span class="entity_def" id="Functions.Function.funmemI1|thm"><span class="entity_def" id="offset_5222..5230">funmemI1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5244..5245">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5265..5268">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>FunMem_def</span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5244..5245"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5265..5268"><span>app</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funmemI2|fact"><span class="entity_def" id="Functions.Function.funmemI2|fact"><span class="entity_def" id="Functions.Function_class.funmemI2|thm"><span class="entity_def" id="Functions.Function.funmemI2|thm"><span class="entity_def" id="offset_5368..5376">funmemI2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5390..5391">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5411..5414">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>FunMem_def</span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5390..5391"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5411..5414"><span>app</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.dom_funmem|fact"><span class="entity_def" id="Functions.Function.dom_funmem|fact"><span class="entity_def" id="Functions.Function_class.dom_funmem|thm"><span class="entity_def" id="Functions.Function.dom_funmem|thm"><span class="entity_def" id="offset_5514..5524">dom_funmem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5538..5539">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5559..5562">dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2209..2213"><span>domE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5538..5539"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5559..5562"><span>dom</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5222..5230"><span>funmemI1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5538..5539"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.ran_funmem|fact"><span class="entity_def" id="Functions.Function.ran_funmem|fact"><span class="entity_def" id="Functions.Function_class.ran_funmem|thm"><span class="entity_def" id="Functions.Function.ran_funmem|thm"><span class="entity_def" id="offset_5651..5661">ran_funmem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5674..5675">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5695..5698">ran</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3093..3097"><span>ranE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5674..5675"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5695..5698"><span>ran</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5368..5376"><span>funmemI2</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5674..5675"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.field_funmem|fact"><span class="entity_def" id="Functions.Function.field_funmem|fact"><span class="entity_def" id="Functions.Function_class.field_funmem|thm"><span class="entity_def" id="Functions.Function.field_funmem|thm"><span>field_funmem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5813..5814">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5834..5839">field</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.field|const"><span>field</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5834..5839"><span>field</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_5514..5524"><span>dom_funmem</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5813..5814"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5651..5661"><span>ran_funmem</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5813..5814"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_3802..3811"><span>field_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5813..5814"><span>f</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.funmem_appI|fact"><span class="entity_def" id="Functions.Function.funmem_appI|fact"><span class="entity_def" id="Functions.Function_class.funmem_appI|thm"><span class="entity_def" id="Functions.Function.funmem_appI|thm"><span>funmem_appI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5994..5995">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6015..6016">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5651..5661"><span>ran_funmem</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5994..5995"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_3378..3385"><span>ran_app</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5994..5995"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6015..6016"><span>b</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6104..6109">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.fmem_smem|fact"><span class="entity_def" id="Functions.Function.fmem_smem|fact"><span class="entity_def" id="Functions.Function_class.fmem_smem|thm"><span class="entity_def" id="Functions.Function.fmem_smem|thm"><span class="entity_def" id="offset_6110..6119">fmem_smem</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetMem|const"><span>SetMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6104..6109"><span>assms</span></a><span> </span><span>setmemI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2097..2101"><span>domI</span></a><span class="main"><span>]</span></span><span> </span><span>setmemI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_2975..2979"><span>ranI</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>FunMem_def</span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tex_def|fact"><span>tex_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Restrictions on functions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Restriction of functions by a predicate</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_funpred|fact"><span class="entity_def" id="Functions.Function.restrict_funpred|fact"><span class="entity_def" id="Functions.Function_class.restrict_funpred|thm"><span class="entity_def" id="Functions.Function.restrict_funpred|thm"><span class="entity_def" id="offset_6380..6396">restrict_funpred</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6409..6410">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_322..330"><span>funpredI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><span>Uniq_def</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_494..501"><span>app_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6409..6410"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.restrict_def|fact"><span class="entity_def" id="Functions.Function.restrict_def|fact"><span class="entity_def" id="Functions.Function_class.restrict_def|thm"><span class="entity_def" id="Functions.Function.restrict_def|thm"><span class="entity_def" id="Functions.Function.restrict_def_raw|axiom"><span class="entity_def" id="offset_6560..6570">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.restrict_dict|fact"><span class="entity_def" id="Functions.Function.restrict.cong|fact"><span class="entity_def" id="Functions.Function_class.restrict_dict|thm"><span class="entity_def" id="Functions.Function.restrict.cong|thm"><span class="entity_def" id="Functions.Function_class.restrict_dict|axiom"><span class="entity_def" id="Functions.Function_class.restrict|const"><span class="entity_def" id="Functions.Function.restrict|const"><span>restrict</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>⌈</span></span><span>›</span></span><span> 60</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="free"><span>⌈</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_typ|fact"><span class="entity_def" id="Functions.Function.restrict_typ|fact"><span class="entity_def" id="Functions.Function_class.restrict_typ|thm"><span class="entity_def" id="Functions.Function.restrict_typ|thm"><span class="entity_def" id="offset_6685..6697">restrict_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>restrict</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.Any|const"><span>Any</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6560..6570"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_177..186"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6380..6396"><span>restrict_funpred</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_fun|fact"><span class="entity_def" id="Functions.Function.restrict_fun|fact"><span class="entity_def" id="Functions.Function_class.restrict_fun|thm"><span class="entity_def" id="Functions.Function.restrict_fun|thm"><span class="entity_def" id="offset_6847..6859">restrict_fun</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6685..6697"><span>restrict_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.anyI|fact"><span>anyI</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_iff|fact"><span class="entity_def" id="Functions.Function.restrict_iff|fact"><span class="entity_def" id="Functions.Function_class.restrict_iff|thm"><span class="entity_def" id="Functions.Function.restrict_iff|thm"><span class="entity_def" id="offset_6905..6917">restrict_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6930..6931">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6560..6570"><span>restrict_def</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_785..794"><span>mkfun_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6930..6931"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> 
            </span><a class="entity_ref" href="Functions.html#offset_6380..6396"><span>restrict_funpred</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6930..6931"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1988..1995"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6930..6931"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5222..5230"><span>funmemI1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6930..6931"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_5368..5376"><span>funmemI2</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6930..6931"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrictI|fact"><span class="entity_def" id="Functions.Function.restrictI|fact"><span class="entity_def" id="Functions.Function_class.restrictI|thm"><span class="entity_def" id="Functions.Function.restrictI|thm"><span class="entity_def" id="offset_7151..7160">restrictI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7174..7175">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7197..7198">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7209..7212">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7174..7175"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7197..7198"><span>b</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_7209..7212"><span>app</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrictD1|fact"><span class="entity_def" id="Functions.Function.restrictD1|fact"><span class="entity_def" id="Functions.Function_class.restrictD1|thm"><span class="entity_def" id="Functions.Function.restrictD1|thm"><span class="entity_def" id="offset_7299..7309">restrictD1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7323..7324">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7350..7353">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7323..7324"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7350..7353"><span>app</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrictD2|fact"><span class="entity_def" id="Functions.Function.restrictD2|fact"><span class="entity_def" id="Functions.Function_class.restrictD2|thm"><span class="entity_def" id="Functions.Function.restrictD2|thm"><span class="entity_def" id="offset_7434..7444">restrictD2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7458..7459">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7485..7488">app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7458..7459"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7485..7488"><span>app</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_dom|fact"><span class="entity_def" id="Functions.Function.restrict_dom|fact"><span class="entity_def" id="Functions.Function_class.restrict_dom|thm"><span class="entity_def" id="Functions.Function.restrict_dom|thm"><span class="entity_def" id="offset_7575..7587">restrict_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7600..7601">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1988..1995"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6847..6859"><span>restrict_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7600..7601"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
            </span><a class="entity_ref" href="Functions.html#offset_1988..1995"><span>dom_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7600..7601"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7600..7601"><span>f</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_domI|fact"><span class="entity_def" id="Functions.Function.restrict_domI|fact"><span class="entity_def" id="Functions.Function_class.restrict_domI|thm"><span class="entity_def" id="Functions.Function.restrict_domI|thm"><span>restrict_domI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7794..7795">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7822..7823">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7575..7587"><span>restrict_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7794..7795"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7822..7823"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_domD|fact"><span class="entity_def" id="Functions.Function.restrict_domD|fact"><span class="entity_def" id="Functions.Function_class.restrict_domD|thm"><span class="entity_def" id="Functions.Function.restrict_domD|thm"><span>restrict_domD</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>iffD1</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7575..7587"><span>restrict_dom</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_app|fact"><span class="entity_def" id="Functions.Function.restrict_app|fact"><span class="entity_def" id="Functions.Function_class.restrict_app|thm"><span class="entity_def" id="Functions.Function.restrict_app|thm"><span class="entity_def" id="offset_7961..7973">restrict_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7987..7988">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8015..8016">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8027..8030">dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1122..1129"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6847..6859"><span>restrict_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7987..7988"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7575..7587"><span>restrict_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7987..7988"><span>f</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8015..8016"><span>b</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_8027..8030"><span>dom</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2330..2340"><span>funapp_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7987..7988"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_8027..8030"><span>dom</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7987..7988"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8015..8016"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.restrict_default|fact"><span class="entity_def" id="Functions.Function.restrict_default|fact"><span class="entity_def" id="Functions.Function_class.restrict_default|thm"><span class="entity_def" id="Functions.Function.restrict_default|thm"><span class="entity_def" id="offset_8340..8356">restrict_default</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8369..8370">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8396..8397">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1283..1297"><span>funapp_default</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6847..6859"><span>restrict_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8369..8370"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8369..8370"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8396..8397"><span>b</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Restriction of functions by a set</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.set_restrict_def|fact"><span class="entity_def" id="Functions.Function.set_restrict_def|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_def|thm"><span class="entity_def" id="Functions.Function.set_restrict_def|thm"><span class="entity_def" id="Functions.Function.set_restrict_def_raw|axiom"><span class="entity_def" id="offset_8589..8599">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.set_restrict_dict|fact"><span class="entity_def" id="Functions.Function.set_restrict.cong|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_dict|thm"><span class="entity_def" id="Functions.Function.set_restrict.cong|thm"><span class="entity_def" id="Functions.Function_class.set_restrict_dict|axiom"><span class="entity_def" id="Functions.Function_class.set_restrict|const"><span class="entity_def" id="Functions.Function.set_restrict|const"><span>set_restrict</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>↾</span></span><span>›</span></span><span> 60</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="free"><span>↾</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>⌈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_typ|fact"><span class="entity_def" id="Functions.Function.set_restrict_typ|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_typ|thm"><span class="entity_def" id="Functions.Function.set_restrict_typ|thm"><span class="entity_def" id="offset_8688..8704">set_restrict_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Functions.html#Functions.Function_class.restrict|const"><span>restrict</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.Any|const"><span>Any</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6560..6570"><span>restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_177..186"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6380..6396"><span>restrict_funpred</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_fun|fact"><span class="entity_def" id="Functions.Function.set_restrict_fun|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_fun|thm"><span class="entity_def" id="Functions.Function.set_restrict_fun|thm"><span>set_restrict_fun</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8688..8704"><span>set_restrict_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.anyI|fact"><span>anyI</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_iff|fact"><span class="entity_def" id="Functions.Function.set_restrict_iff|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_iff|thm"><span class="entity_def" id="Functions.Function.set_restrict_iff|thm"><span>set_restrict_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8949..8950">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_6905..6917"><span>restrict_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8949..8950"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9067..9072">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrictI|fact"><span class="entity_def" id="Functions.Function.set_restrictI|fact"><span class="entity_def" id="Functions.Function_class.set_restrictI|thm"><span class="entity_def" id="Functions.Function.set_restrictI|thm"><span>set_restrictI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7151..7160"><span>restrictI</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9067..9072"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9241..9246">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrictD1|fact"><span class="entity_def" id="Functions.Function.set_restrictD1|fact"><span class="entity_def" id="Functions.Function_class.set_restrictD1|thm"><span class="entity_def" id="Functions.Function.set_restrictD1|thm"><span>set_restrictD1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7299..7309"><span>restrictD1</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9241..9246"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9407..9412">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrictD2|fact"><span class="entity_def" id="Functions.Function.set_restrictD2|fact"><span class="entity_def" id="Functions.Function_class.set_restrictD2|thm"><span class="entity_def" id="Functions.Function.set_restrictD2|thm"><span>set_restrictD2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>app</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7434..7444"><span>restrictD2</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9407..9412"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9576..9581">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_dom|fact"><span class="entity_def" id="Functions.Function.set_restrict_dom|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_dom|thm"><span class="entity_def" id="Functions.Function.set_restrict_dom|thm"><span class="entity_def" id="offset_9582..9598">set_restrict_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7575..7587"><span>restrict_dom</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9576..9581"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_domI|fact"><span class="entity_def" id="Functions.Function.set_restrict_domI|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_domI|thm"><span class="entity_def" id="Functions.Function.set_restrict_domI|thm"><span>set_restrict_domI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9778..9779">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9806..9807">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9582..9598"><span>set_restrict_dom</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9778..9779"><span>f</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9806..9807"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_domD|fact"><span class="entity_def" id="Functions.Function.set_restrict_domD|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_domD|thm"><span class="entity_def" id="Functions.Function.set_restrict_domD|thm"><span>set_restrict_domD</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>iffD1</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_9582..9598"><span>set_restrict_dom</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9953..9958">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_app|fact"><span class="entity_def" id="Functions.Function.set_restrict_app|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_app|thm"><span class="entity_def" id="Functions.Function.set_restrict_app|thm"><span>set_restrict_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_7961..7973"><span>restrict_app</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_9953..9958"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10146..10151">lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.set_restrict_default|fact"><span class="entity_def" id="Functions.Function.set_restrict_default|fact"><span class="entity_def" id="Functions.Function_class.set_restrict_default|thm"><span class="entity_def" id="Functions.Function.set_restrict_default|thm"><span>set_restrict_default</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.set_restrict|const"><span>↾</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8589..8599"><span>set_restrict_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_8340..8356"><span>restrict_default</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_10146..10151"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Partial Functions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_def|fact"><span class="entity_def" id="Functions.Function.typish_partial_fun_def|fact"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_partial_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_partial_fun_def_raw|axiom"><span class="entity_def" id="offset_10366..10376">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_dict|fact"><span class="entity_def" id="Functions.Function.typish_partial_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_dict|thm"><span class="entity_def" id="Functions.Function.typish_partial_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.typish_partial_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.typish_partial_fun|const"><span class="entity_def" id="Functions.Function.typish_partial_fun|const"><span>typish_partial_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>⇸''</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>⇸'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>△</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.partial_fun_def|fact"><span class="entity_def" id="Functions.Function.partial_fun_def|fact"><span class="entity_def" id="Functions.Function_class.partial_fun_def|thm"><span class="entity_def" id="Functions.Function.partial_fun_def|thm"><span class="entity_def" id="Functions.Function.partial_fun_def_raw|axiom"><span>definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.partial_fun_dict|fact"><span class="entity_def" id="Functions.Function.partial_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.partial_fun_dict|thm"><span class="entity_def" id="Functions.Function.partial_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.partial_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.partial_fun|const"><span class="entity_def" id="Functions.Function.partial_fun|const"><span>partial_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>⇸</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>⇸</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>△</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_fun|fact"><span class="entity_def" id="Functions.Function.pfun_fun|fact"><span class="entity_def" id="Functions.Function_class.pfun_fun|thm"><span class="entity_def" id="Functions.Function.pfun_fun|thm"><span class="entity_def" id="offset_10627..10635">pfun_fun</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10648..10649">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10648..10649"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10366..10376"><span>typish_partial_fun_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intE1|fact"><span>intE1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfunI|fact"><span class="entity_def" id="Functions.Function.pfunI|fact"><span class="entity_def" id="Functions.Function_class.pfunI|thm"><span class="entity_def" id="Functions.Function.pfunI|thm"><span>pfunI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10776..10777">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10803..10805">xy</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10366..10376"><span>typish_partial_fun_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intI|fact"><span>intI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10776..10777"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10803..10805"><span>xy</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfunE|fact"><span class="entity_def" id="Functions.Function.pfunE|fact"><span class="entity_def" id="Functions.Function_class.pfunE|thm"><span class="entity_def" id="Functions.Function.pfunE|thm"><span class="entity_def" id="offset_10954..10959">pfunE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10972..10973">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
     </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10997..10999">ab</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10972..10973"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_10997..10999"><span>ab</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10366..10376"><span>typish_partial_fun_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty_def|fact"><span>inter_ty_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_dom|fact"><span class="entity_def" id="Functions.Function.pfun_dom|fact"><span class="entity_def" id="Functions.Function_class.pfun_dom|thm"><span class="entity_def" id="Functions.Function.pfun_dom|thm"><span>pfun_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11145..11146">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11171..11172">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11185..11188">dom</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2209..2213"><span>domE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10627..10635"><span>pfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11145..11146"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11185..11188"><span>dom</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span>hence</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1122..1129"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10627..10635"><span>pfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11145..11146"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10954..10959"><span>pfunE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11145..11146"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_11171..11172"><span>b</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_app|fact"><span class="entity_def" id="Functions.Function.pfun_app|fact"><span class="entity_def" id="Functions.Function_class.pfun_app|thm"><span class="entity_def" id="Functions.Function.pfun_app|thm"><span class="entity_def" id="offset_11424..11432">pfun_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11446..11447">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11465..11466">a</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11485..11496">not_default</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10954..10959"><span>pfunE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11446..11447"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_11465..11466"><span>a</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1482..1489"><span>funappE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_10627..10635"><span>pfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11446..11447"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span> _ </span><a class="entity_ref" href="Functions.html#offset_11485..11496"><span>not_default</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.pfun_app_disj|fact"><span class="entity_def" id="Functions.Function.pfun_app_disj|fact"><span class="entity_def" id="Functions.Function_class.pfun_app_disj|thm"><span class="entity_def" id="Functions.Function.pfun_app_disj|thm"><span>pfun_app_disj</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11653..11654">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11672..11673">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function_default|const"><span>Function_default</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11424..11432"><span>pfun_app</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11653..11654"><span>f</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_11672..11673"><span>b</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Total Functions</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>Consider changing soft-type arrow for ('a ⇒ 'b) to ⇒ or ⇛, then use → for 'a-functions </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.typish_total_fun_def|fact"><span class="entity_def" id="Functions.Function.typish_total_fun_def|fact"><span class="entity_def" id="Functions.Function_class.typish_total_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_total_fun_def|thm"><span class="entity_def" id="Functions.Function.typish_total_fun_def_raw|axiom"><span class="entity_def" id="offset_11884..11894">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.typish_total_fun_dict|fact"><span class="entity_def" id="Functions.Function.typish_total_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.typish_total_fun_dict|thm"><span class="entity_def" id="Functions.Function.typish_total_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.typish_total_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.typish_total_fun|const"><span class="entity_def" id="Functions.Function.typish_total_fun|const"><span>typish_total_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>↝''</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>↝'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>△</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.typish_tfunI|fact"><span class="entity_def" id="Functions.Function.typish_tfunI|fact"><span class="entity_def" id="Functions.Function_class.typish_tfunI|thm"><span class="entity_def" id="Functions.Function.typish_tfunI|thm"><span>typish_tfunI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12033..12034">f</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_partial_fun|const"><span>⇸'</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12060..12062">bc</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_total_fun|const"><span>↝'</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_11884..11894"><span>typish_total_fun_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intI|fact"><span>intI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12033..12034"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12060..12062"><span>bc</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.total_fun_def|fact"><span class="entity_def" id="Functions.Function.total_fun_def|fact"><span class="entity_def" id="Functions.Function_class.total_fun_def|thm"><span class="entity_def" id="Functions.Function.total_fun_def|thm"><span class="entity_def" id="Functions.Function.total_fun_def_raw|axiom"><span class="entity_def" id="offset_12182..12192">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.total_fun_dict|fact"><span class="entity_def" id="Functions.Function.total_fun.cong|fact"><span class="entity_def" id="Functions.Function_class.total_fun_dict|thm"><span class="entity_def" id="Functions.Function.total_fun.cong|thm"><span class="entity_def" id="Functions.Function_class.total_fun_dict|axiom"><span class="entity_def" id="Functions.Function_class.total_fun|const"><span class="entity_def" id="Functions.Function.total_fun|const"><span>total_fun</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>─t→</span></span><span>›</span></span><span> 70</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>─t→</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_total_fun|const"><span>↝'</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.inter_ty|const"><span>△</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.tfunI|fact"><span class="entity_def" id="Functions.Function.tfunI|fact"><span class="entity_def" id="Functions.Function_class.tfunI|thm"><span class="entity_def" id="Functions.Function.tfunI|thm"><span>tfunI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12318..12319">f</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.typish_total_fun|const"><span>↝'</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12347..12349">df</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Functions.html#Functions.Function_class.total_fun|const"><span>─t→</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12182..12192"><span>total_fun_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.intI|fact"><span>intI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12318..12319"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12347..12349"><span>df</span></a><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Forming functions from ('a=&gt;'a)-operators</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.any_funpredI|fact"><span class="entity_def" id="Functions.Function.any_funpredI|fact"><span class="entity_def" id="Functions.Function_class.any_funpredI|thm"><span class="entity_def" id="Functions.Function.any_funpredI|thm"><span class="entity_def" id="offset_12519..12531">any_funpredI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunPred|const"><span>FunPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_322..330"><span>funpredI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><span>Uniq_def</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Functions.Function_class.lam_def|fact"><span class="entity_def" id="Functions.Function.lam_def|fact"><span class="entity_def" id="Functions.Function_class.lam_def|thm"><span class="entity_def" id="Functions.Function.lam_def|thm"><span class="entity_def" id="Functions.Function.lam_def_raw|axiom"><span>definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Functions.Function_class.lam_dict|fact"><span class="entity_def" id="Functions.Function.lam.cong|fact"><span class="entity_def" id="Functions.Function_class.lam_dict|thm"><span class="entity_def" id="Functions.Function.lam.cong|thm"><span class="entity_def" id="Functions.Function_class.lam_dict|axiom"><span class="entity_def" id="Functions.Function_class.lam|const"><span class="entity_def" id="Functions.Function.lam|const"><span>lam</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lam</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.mkfun|const"><span>mkfun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span>
  </span><span class="quoted"><span>"</span><span>_lam_set</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span>pttrn</span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword3"><span>(3</span></span><span class="keyword1"><span>λ</span></span><span>_</span><span class="keyword1"><span>∈</span></span><span>_</span><span class="keyword1"><span>.</span></span><span class="keyword3"><span>/ </span></span><span>_</span><span class="keyword3"><span>)</span></span><span>›</span></span><span> 10</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span><span> </span><span class="main"><span>⇌</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="Functions.html#Functions.Function_class.lam|const"><span>lam</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="free"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span class="main"><span>)</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12829..12836">context</span></span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function|locale"><span>Function</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_fun|fact"><span class="entity_def" id="Functions.Function.lam_fun|fact"><span class="entity_def" id="Functions.Function_class.lam_fun|thm"><span class="entity_def" id="Functions.Function.lam_fun|thm"><span class="entity_def" id="offset_12859..12866">lam_fun</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12879..12880">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12829..12836"><span>lam_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_177..186"><span>mkfun_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12879..12880"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_12519..12531"><span>any_funpredI</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_iff|fact"><span class="entity_def" id="Functions.Function.lam_iff|fact"><span class="entity_def" id="Functions.Function_class.lam_iff|thm"><span class="entity_def" id="Functions.Function.lam_iff|thm"><span class="entity_def" id="offset_12997..13004">lam_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13017..13018">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12829..12836"><span>lam_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mkfun_ax</span><span> </span><a class="entity_ref" href="Functions.html#offset_13017..13018"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_12519..12531"><span>any_funpredI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_iff&apos;|fact"><span class="entity_def" id="Functions.Function.lam_iff&apos;|fact"><span class="entity_def" id="Functions.Function_class.lam_iff&apos;|thm"><span class="entity_def" id="Functions.Function.lam_iff&apos;|thm"><span>lam_iff'</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13196..13197">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12829..12836"><span>lam_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mkfun_ax</span><span> </span><a class="entity_ref" href="Functions.html#offset_13196..13197"><span>x</span></a><span> </span><a class="entity_ref" href="Functions.html#offset_12519..12531"><span>any_funpredI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_app|fact"><span class="entity_def" id="Functions.Function.lam_app|fact"><span class="entity_def" id="Functions.Function_class.lam_app|thm"><span class="entity_def" id="Functions.Function.lam_app|thm"><span class="entity_def" id="offset_13343..13350">lam_app</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13363..13364">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13379..13380">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13409..13410">b</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1122..1129"><span>funappI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13363..13364"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12997..13004"><span>lam_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13363..13364"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
      </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13409..13410"><span>b</span></a><span> </span><span>mem_funE</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13379..13380"><span>F</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_dom|fact"><span class="entity_def" id="Functions.Function.lam_dom|fact"><span class="entity_def" id="Functions.Function_class.lam_dom|thm"><span class="entity_def" id="Functions.Function.lam_dom|thm"><span>lam_dom</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13598..13599">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13623..13624">F</span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>equality_iffI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_227..234"><span>dom_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> 
                             </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
       </span><span class="operator"><span>unfold</span></span><span> </span><span>collect_iff</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_1988..1995"><span>dom_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span>       
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12997..13004"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.app_class.app|const"><span>app</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12997..13004"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span>setof_mem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13598..13599"><span>x</span></a><span class="main"><span>]</span></span><span> 
          </span><span>mem_funE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13623..13624"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_ran|fact"><span class="entity_def" id="Functions.Function.lam_ran|fact"><span class="entity_def" id="Functions.Function_class.lam_ran|thm"><span class="entity_def" id="Functions.Function.lam_ran|thm"><span>lam_ran</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14176..14177">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14201..14202">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14281..14285">func</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.Function|const"><span>Function</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14176..14177"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_14365..14368">set</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>repfun_set</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14176..14177"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>equality_iffI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14281..14285"><span>func</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14365..14368"><span>set</span></a><span class="main"><span>]</span></span><span>
           </span><span>mem_funE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14201..14202"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span>setof_mem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14176..14177"><span>x</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_6110..6119"><span>fmem_smem</span></a><span>
     </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>repfun_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14176..14177"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2830..2837"><span>ran_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14281..14285"><span>func</span></a><span class="main"><span>]</span></span><span> 
               </span><a class="entity_ref" href="Functions.html#offset_12997..13004"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14176..14177"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span>bex_def</span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.rex_def|fact"><span>rex_def</span></a><span>
     </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_ran_setof|fact"><span class="entity_def" id="Functions.Function.lam_ran_setof|fact"><span class="entity_def" id="Functions.Function_class.lam_ran_setof|thm"><span class="entity_def" id="Functions.Function.lam_ran_setof|thm"><span>lam_ran_setof</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14733..14734">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14756..14757">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>setofI</span><span class="main"><span>)</span></span><span>   
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2939..2946"><span>ran_set</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14733..14734"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.ran|const"><span>ran</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_2830..2837"><span>ran_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14733..14734"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12997..13004"><span>lam_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14733..14734"><span>x</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mem_funE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_14756..14757"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_cong|fact"><span class="entity_def" id="Functions.Function.lam_cong|fact"><span class="entity_def" id="Functions.Function_class.lam_cong|thm"><span class="entity_def" id="Functions.Function.lam_cong|thm"><span class="entity_def" id="offset_15062..15070">lam_cong</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15082..15083">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15101..15103">eq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_627..634"><span>fun_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15082..15083"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12859..12866"><span>lam_fun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15082..15083"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_12997..13004"><span>lam_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15082..15083"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15101..15103"><span>eq</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span> 
 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Functions.Function_class.lam_flatten|fact"><span class="entity_def" id="Functions.Function.lam_flatten|fact"><span class="entity_def" id="Functions.Function_class.lam_flatten|thm"><span class="entity_def" id="Functions.Function.lam_flatten|thm"><span>lam_flatten</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15296..15297">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15328..15329">F</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Function_class.FunMem|const"><span>FunMem</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15062..15070"><span>lam_cong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15296..15297"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Functions.html#Functions.Function_class.funapp|const"><span>`</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_13343..13350"><span>lam_app</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15296..15297"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15328..15329"><span>F</span></a><span class="main"><span>]</span></span><span> </span><span>setof_mem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Functions.html#offset_15296..15297"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  

</span><span class="comment1"><span>(</span><span>*</span><span> lemma lam_tfun :
  assumes x:"x : SetOf FunMem" and y:"y : SetOf FunMem" 
      and F:"F : MemOf x → MemOf y" 
    shows "(λb∈x. F b) : x ↝ y"
proof (rule tfunI[OF lam_fun[OF x]])
  show Fmem:"F : MemOf x → FunMem"
  proof (rule funI)
    fix b assume "b : MemOf x"
    hence "F b : MemOf y" by (rule funE[OF F])
    thus "F b : FunMem" by (rule setof_mem[OF y memofD])
  qed
  fix b assume "b ∈ x"
  hence "F b ∈ y" using funE[OF F] unfolding MemOf_def by (unfold_typs)
  moreover have "app (lam x F) b (F b)" using lam_iff[OF x Fmem] ‹b ∈ x› by auto
  ultimately show "∃c. c ∈ y ∧ app (lam x F) b c" by auto
qed </span><span>*</span><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>