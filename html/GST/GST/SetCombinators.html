<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory SetCombinators</title>
</head>


<body>
<div class="head">
<h1>Theory SetCombinators</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>SetCombinators</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="SetComprehension.html"><span>SetComprehension</span></a><span> </span><a href="UPair.html"><span>UPair</span></a><span> 
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_64..71">context</span></span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF|locale"><span>GZF</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Intersection of a set of sets</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SetCombinators.GZF_class.Int_def|fact"><span class="entity_def" id="SetCombinators.GZF.Int_def|fact"><span class="entity_def" id="SetCombinators.GZF_class.Int_def|thm"><span class="entity_def" id="SetCombinators.GZF.Int_def|thm"><span class="entity_def" id="SetCombinators.GZF.Int_def_raw|axiom"><span class="entity_def" id="offset_127..137">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SetCombinators.GZF_class.Int_dict|fact"><span class="entity_def" id="SetCombinators.GZF.Int.cong|fact"><span class="entity_def" id="SetCombinators.GZF_class.Int_dict|thm"><span class="entity_def" id="SetCombinators.GZF.Int.cong|thm"><span class="entity_def" id="SetCombinators.GZF_class.Int_dict|axiom"><span class="entity_def" id="SetCombinators.GZF_class.Int|const"><span class="entity_def" id="SetCombinators.GZF.Int|const"><span>Int</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword1"><span>⋂</span></span><span> </span><span>_</span><span>›</span></span><span> </span><span class="main"><span>[</span></span><span>90</span><span class="main"><span>]</span></span><span> 90</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="free"><span>⋂</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Union|const"><span>⋃</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.Int_typ|fact"><span class="entity_def" id="SetCombinators.GZF.Int_typ|fact"><span class="entity_def" id="SetCombinators.GZF_class.Int_typ|thm"><span class="entity_def" id="SetCombinators.GZF.Int_typ|thm"><span class="entity_def" id="offset_222..229">Int_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>Int</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_127..137"><span>Int_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>collect_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>union_set</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.Int_set|fact"><span class="entity_def" id="SetCombinators.GZF.Int_set|fact"><span class="entity_def" id="SetCombinators.GZF_class.Int_set|thm"><span class="entity_def" id="SetCombinators.GZF.Int_set|thm"><span class="entity_def" id="offset_347..354">Int_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_222..229"><span>Int_typ</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_375..380">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.Int_iff|fact"><span class="entity_def" id="SetCombinators.GZF.Int_iff|fact"><span class="entity_def" id="SetCombinators.GZF_class.Int_iff|thm"><span class="entity_def" id="SetCombinators.GZF.Int_iff|thm"><span class="entity_def" id="offset_381..388">Int_iff</span></span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.ball|const"><span>ball</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span> </span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Union|const"><span>⋃</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.ball|const"><span>ball</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_127..137"><span>Int_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>collectE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_64..71"><span>Union_typ</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.ball|const"><span>ball</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>union_emp</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_375..380"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.ball|const"><span>ball</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_735..739">ball</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.ball|const"><span>ball</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Union|const"><span>⋃</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>not_emptyE</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.subtypE|fact"><span>subtypE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set_subtyp</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_375..380"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Union|const"><span>⋃</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_735..739"><span>ball</span></a><span> </span><span>unionI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_375..380"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>ball_def</span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.rall_def|fact"><span>rall_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_127..137"><span>Int_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_735..739"><span>ball</span></a><span> </span><span>collectI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_64..71"><span>Union_typ</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_375..380"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1089..1094">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.IntI|fact"><span class="entity_def" id="SetCombinators.GZF.IntI|fact"><span class="entity_def" id="SetCombinators.GZF_class.IntI|thm"><span class="entity_def" id="SetCombinators.GZF.IntI|thm"><span>IntI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_381..388"><span>Int_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1089..1094"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1215..1220">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.IntD|fact"><span class="entity_def" id="SetCombinators.GZF.IntD|fact"><span class="entity_def" id="SetCombinators.GZF_class.IntD|thm"><span class="entity_def" id="SetCombinators.GZF.IntD|thm"><span>IntD</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_381..388"><span>Int_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1215..1220"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1329..1334">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.IntE|fact"><span class="entity_def" id="SetCombinators.GZF.IntE|fact"><span class="entity_def" id="SetCombinators.GZF_class.IntE|thm"><span class="entity_def" id="SetCombinators.GZF.IntE|thm"><span>IntE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_381..388"><span>Int_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1329..1334"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Set difference</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SetCombinators.GZF_class.diff_def|fact"><span class="entity_def" id="SetCombinators.GZF.diff_def|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_def|thm"><span class="entity_def" id="SetCombinators.GZF.diff_def|thm"><span class="entity_def" id="SetCombinators.GZF.diff_def_raw|axiom"><span class="entity_def" id="offset_1482..1492">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SetCombinators.GZF_class.diff_dict|fact"><span class="entity_def" id="SetCombinators.GZF.diff.cong|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_dict|thm"><span class="entity_def" id="SetCombinators.GZF.diff.cong|thm"><span class="entity_def" id="SetCombinators.GZF_class.diff_dict|axiom"><span class="entity_def" id="SetCombinators.GZF_class.diff|const"><span class="entity_def" id="SetCombinators.GZF.diff|const"><span>diff</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>-</span></span><span>›</span></span><span> 65</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>-</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>   </span><span>*</span><span>)</span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>Diff will return a set even if its second argument (y above) is not a set</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_typ|fact"><span class="entity_def" id="SetCombinators.GZF.diff_typ|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_typ|thm"><span class="entity_def" id="SetCombinators.GZF.diff_typ|thm"><span class="entity_def" id="offset_1662..1670">diff_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>diff</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1482..1492"><span>diff_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><span>collect_set</span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_set|fact"><span class="entity_def" id="SetCombinators.GZF.diff_set|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_set|thm"><span class="entity_def" id="SetCombinators.GZF.diff_set|thm"><span class="entity_def" id="offset_1778..1786">diff_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1662..1670"><span>diff_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1817..1822">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_iff|fact"><span class="entity_def" id="SetCombinators.GZF.diff_iff|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_iff|thm"><span class="entity_def" id="SetCombinators.GZF.diff_iff|thm"><span class="entity_def" id="offset_1823..1831">diff_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1482..1492"><span>diff_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>collect_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1817..1822"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1952..1957">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diffI|fact"><span class="entity_def" id="SetCombinators.GZF.diffI|fact"><span class="entity_def" id="SetCombinators.GZF_class.diffI|thm"><span class="entity_def" id="SetCombinators.GZF.diffI|thm"><span>diffI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1952..1957"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2066..2071">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diffD1|fact"><span class="entity_def" id="SetCombinators.GZF.diffD1|fact"><span class="entity_def" id="SetCombinators.GZF_class.diffD1|thm"><span class="entity_def" id="SetCombinators.GZF.diffD1|thm"><span>diffD1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2066..2071"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2170..2175">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diffD2|fact"><span class="entity_def" id="SetCombinators.GZF.diffD2|fact"><span class="entity_def" id="SetCombinators.GZF_class.diffD2|thm"><span class="entity_def" id="SetCombinators.GZF.diffD2|thm"><span>diffD2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2170..2175"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2274..2279">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diffE|fact"><span class="entity_def" id="SetCombinators.GZF.diffE|fact"><span class="entity_def" id="SetCombinators.GZF_class.diffE|thm"><span class="entity_def" id="SetCombinators.GZF.diffE|thm"><span>diffE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2274..2279"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2399..2404">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_sub|fact"><span class="entity_def" id="SetCombinators.GZF.diff_sub|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_sub|thm"><span class="entity_def" id="SetCombinators.GZF.diff_sub|thm"><span>diff_sub</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subset_iff</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1778..1786"><span>diff_set</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2399..2404"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2544..2549">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_subset1|fact"><span class="entity_def" id="SetCombinators.GZF.diff_subset1|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_subset1|thm"><span class="entity_def" id="SetCombinators.GZF.diff_subset1|thm"><span>diff_subset1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subset_iff</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1662..1670"><span>diff_typ</span></a><span> _</span><span class="main"><span class="main"><span>]</span></span></span><span> _</span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2544..2549"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2736..2741">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_subset2|fact"><span class="entity_def" id="SetCombinators.GZF.diff_subset2|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_subset2|thm"><span class="entity_def" id="SetCombinators.GZF.diff_subset2|thm"><span>diff_subset2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subset_iff</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1778..1786"><span>diff_set</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2736..2741"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2897..2902">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.diff_emp|fact"><span class="entity_def" id="SetCombinators.GZF.diff_emp|fact"><span class="entity_def" id="SetCombinators.GZF_class.diff_emp|thm"><span class="entity_def" id="SetCombinators.GZF.diff_emp|thm"><span>diff_emp</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1778..1786"><span>diff_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>emp_set</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_2897..2902"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_1823..1831"><span>diff_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>emp_set</span><span class="main"><span>]</span></span><span> </span><span>equals0I</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Emp|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.diff|const"><span>-</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Binary union and intersection</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SetCombinators.GZF_class.un_def|fact"><span class="entity_def" id="SetCombinators.GZF.un_def|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_def|thm"><span class="entity_def" id="SetCombinators.GZF.un_def|thm"><span class="entity_def" id="SetCombinators.GZF.un_def_raw|axiom"><span class="entity_def" id="offset_3151..3161">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SetCombinators.GZF_class.un_dict|fact"><span class="entity_def" id="SetCombinators.GZF.un.cong|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_dict|thm"><span class="entity_def" id="SetCombinators.GZF.un.cong|thm"><span class="entity_def" id="SetCombinators.GZF_class.un_dict|axiom"><span class="entity_def" id="SetCombinators.GZF_class.un|const"><span class="entity_def" id="SetCombinators.GZF.un|const"><span>un</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>∪</span></span><span>›</span></span><span> 90</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>∪</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Union|const"><span>⋃</span></a></span><span> </span><a class="entity_ref" href="UPair.html#UPair.GZF_class.upair|const"><span>upair</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.upair_setof|fact"><span class="entity_def" id="SetCombinators.GZF.upair_setof|fact"><span class="entity_def" id="SetCombinators.GZF_class.upair_setof|thm"><span class="entity_def" id="SetCombinators.GZF.upair_setof|thm"><span class="entity_def" id="offset_3236..3247">upair_setof</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="UPair.html#UPair.GZF_class.upair|const"><span>upair</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>setofI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>upair_set</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_3347..3349">xy</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetMem|const"><span>SetMem</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.SetMem|const"><span>SetMem</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>set_setmem</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="UPair.html#UPair.GZF_class.upair|const"><span>upair</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>upair_iff</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3347..3349"><span>xy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.un_typ|fact"><span class="entity_def" id="SetCombinators.GZF.un_typ|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_typ|thm"><span class="entity_def" id="SetCombinators.GZF.un_typ|thm"><span class="entity_def" id="offset_3541..3547">un_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>(∪)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3151..3161"><span>un_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>union_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3236..3247"><span>upair_setof</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.un_set|fact"><span class="entity_def" id="SetCombinators.GZF.un_set|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_set|thm"><span class="entity_def" id="SetCombinators.GZF.un_set|thm"><span>un_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3541..3547"><span>un_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3701..3706">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.un_iff|fact"><span class="entity_def" id="SetCombinators.GZF.un_iff|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_iff|thm"><span class="entity_def" id="SetCombinators.GZF.un_iff|thm"><span class="entity_def" id="offset_3707..3713">un_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3151..3161"><span>un_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>union_iff</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3236..3247"><span>upair_setof</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3701..3706"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
      </span><span class="operator"><span>use</span></span><span> </span><span>upair_iff</span><span> </span><span>set_setmem</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3701..3706"><span>assms</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3904..3909">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.unI1|fact"><span class="entity_def" id="SetCombinators.GZF.unI1|fact"><span class="entity_def" id="SetCombinators.GZF_class.unI1|thm"><span class="entity_def" id="SetCombinators.GZF.unI1|thm"><span class="entity_def" id="offset_3910..3914">unI1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3707..3713"><span>un_iff</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3904..3909"><span>assms</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4004..4009">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.unI2|fact"><span class="entity_def" id="SetCombinators.GZF.unI2|fact"><span class="entity_def" id="SetCombinators.GZF_class.unI2|thm"><span class="entity_def" id="SetCombinators.GZF.unI2|thm"><span class="entity_def" id="offset_4010..4014">unI2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3707..3713"><span>un_iff</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4004..4009"><span>assms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4106..4111">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.un_subset1|fact"><span class="entity_def" id="SetCombinators.GZF.un_subset1|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_subset1|thm"><span class="entity_def" id="SetCombinators.GZF.un_subset1|thm"><span>un_subset1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subsetI</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3910..3914"><span>unI1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4106..4111"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4218..4223">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.un_subset2|fact"><span class="entity_def" id="SetCombinators.GZF.un_subset2|fact"><span class="entity_def" id="SetCombinators.GZF_class.un_subset2|thm"><span class="entity_def" id="SetCombinators.GZF.un_subset2|thm"><span>un_subset2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subsetI</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4010..4014"><span>unI2</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4218..4223"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
                                                                               
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4409..4414">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.unE|fact"><span class="entity_def" id="SetCombinators.GZF.unE|fact"><span class="entity_def" id="SetCombinators.GZF_class.unE|thm"><span class="entity_def" id="SetCombinators.GZF.unE|thm"><span>unE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3707..3713"><span>un_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4409..4414"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4547..4552">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.unE&apos;|fact"><span class="entity_def" id="SetCombinators.GZF.unE&apos;|fact"><span class="entity_def" id="SetCombinators.GZF_class.unE&apos;|thm"><span class="entity_def" id="SetCombinators.GZF.unE&apos;|thm"><span>unE'</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3707..3713"><span>un_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4547..4552"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4698..4703">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.unCI|fact"><span class="entity_def" id="SetCombinators.GZF.unCI|fact"><span class="entity_def" id="SetCombinators.GZF_class.unCI|thm"><span class="entity_def" id="SetCombinators.GZF.unCI|thm"><span>unCI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="BoundedQuants.html#BoundedQuants.GZF_sig_class.not_mem|const"><span>∉</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.un|const"><span>∪</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3707..3713"><span>un_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4698..4703"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Rules for binary intersection</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SetCombinators.GZF_class.inter_def|fact"><span class="entity_def" id="SetCombinators.GZF.inter_def|fact"><span class="entity_def" id="SetCombinators.GZF_class.inter_def|thm"><span class="entity_def" id="SetCombinators.GZF.inter_def|thm"><span class="entity_def" id="SetCombinators.GZF.inter_def_raw|axiom"><span class="entity_def" id="offset_4867..4877">definition</span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SetCombinators.GZF_class.inter_dict|fact"><span class="entity_def" id="SetCombinators.GZF.inter.cong|fact"><span class="entity_def" id="SetCombinators.GZF_class.inter_dict|thm"><span class="entity_def" id="SetCombinators.GZF.inter.cong|thm"><span class="entity_def" id="SetCombinators.GZF_class.inter_dict|axiom"><span class="entity_def" id="SetCombinators.GZF_class.inter|const"><span class="entity_def" id="SetCombinators.GZF.inter|const"><span>inter</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span>∩</span></span><span>›</span></span><span> 90</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span class="free"><span>∩</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>⋂</span></a></span><span> </span><a class="entity_ref" href="UPair.html#UPair.GZF_class.upair|const"><span>upair</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.inter_typ|fact"><span class="entity_def" id="SetCombinators.GZF.inter_typ|fact"><span class="entity_def" id="SetCombinators.GZF_class.inter_typ|thm"><span class="entity_def" id="SetCombinators.GZF.inter_typ|thm"><span class="entity_def" id="offset_4955..4964">inter_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.inter|const"><span>(∩)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4867..4877"><span>inter_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_347..354"><span>Int_set</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3236..3247"><span>upair_setof</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.inter_set|fact"><span class="entity_def" id="SetCombinators.GZF.inter_set|fact"><span class="entity_def" id="SetCombinators.GZF_class.inter_set|thm"><span class="entity_def" id="SetCombinators.GZF.inter_set|thm"><span>inter_set</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4955..4964"><span>inter_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5120..5125">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.inter_iff|fact"><span class="entity_def" id="SetCombinators.GZF.inter_iff|fact"><span class="entity_def" id="SetCombinators.GZF_class.inter_iff|thm"><span class="entity_def" id="SetCombinators.GZF.inter_iff|thm"><span class="entity_def" id="offset_5126..5135">inter_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_4867..4877"><span>inter_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_381..388"><span>Int_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_3236..3247"><span>upair_setof</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5120..5125"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
      </span><span class="operator"><span>use</span></span><span> </span><span>upair_iff</span><span> </span><span>set_setmem</span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5120..5125"><span>assms</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5330..5335">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.interI|fact"><span class="entity_def" id="SetCombinators.GZF.interI|fact"><span class="entity_def" id="SetCombinators.GZF_class.interI|thm"><span class="entity_def" id="SetCombinators.GZF.interI|thm"><span>interI</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5126..5135"><span>inter_iff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5330..5335"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5455..5460">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.interD1|fact"><span class="entity_def" id="SetCombinators.GZF.interD1|fact"><span class="entity_def" id="SetCombinators.GZF_class.interD1|thm"><span class="entity_def" id="SetCombinators.GZF.interD1|thm"><span>interD1</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5126..5135"><span>inter_iff</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5455..5460"><span>assms</span></a><span class="main"><span>)</span></span><span>  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5568..5573">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.interD2|fact"><span class="entity_def" id="SetCombinators.GZF.interD2|fact"><span class="entity_def" id="SetCombinators.GZF_class.interD2|thm"><span class="entity_def" id="SetCombinators.GZF.interD2|thm"><span>interD2</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5126..5135"><span>inter_iff</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5568..5573"><span>assms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5678..5683">lemma</span></span></span><span> </span><span class="entity_def" id="SetCombinators.GZF_class.interE|fact"><span class="entity_def" id="SetCombinators.GZF.interE|fact"><span class="entity_def" id="SetCombinators.GZF_class.interE|thm"><span class="entity_def" id="SetCombinators.GZF.interE|thm"><span>interE</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5126..5135"><span>inter_iff</span></a><span> </span><a class="entity_ref" href="SetCombinators.html#offset_5678..5683"><span>assms</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Binders for union and intersection</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span>
  </span><span class="quoted"><span>"</span><span>_Union</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span>pttrn</span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword3"><span>(3</span></span><span class="keyword1"><span>⋃</span></span><span>_</span><span class="keyword1"><span>∈</span></span><span>_</span><span class="keyword1"><span>.</span></span><span class="keyword3"><span>/ </span></span><span>_</span><span class="keyword3"><span>)</span></span><span>›</span></span><span> 10</span><span class="main"><span>)</span></span><span>
  </span><span class="quoted"><span>"</span><span>_Inter</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span>pttrn</span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword3"><span>(3</span></span><span class="keyword1"><span>⋂</span></span><span>_</span><span class="keyword1"><span>∈</span></span><span>_</span><span class="keyword1"><span>.</span></span><span class="keyword3"><span>/ </span></span><span>_</span><span class="keyword3"><span>)</span></span><span>›</span></span><span> 10</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span class="free"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span><span> </span><span class="main"><span>==</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_sig_class.Union|const"><span>Union</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>⋂</span></span><span class="free"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span><span> </span><span class="main"><span>==</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="SetCombinators.html#SetCombinators.GZF_class.Int|const"><span>Int</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>