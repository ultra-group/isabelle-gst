<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory mRepl</title>
</head>


<body>
<div class="head">
<h1>Theory mRepl</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>mRepl</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="mMem.html"><span>mMem</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36..43">context</span></span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model|locale"><span>GZF_Model</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61..66">lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mRepl_eq|fact"><span class="entity_def" id="mRepl.GZF_Model.mRepl_eq|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mRepl_eq|thm"><span class="entity_def" id="mRepl.GZF_Model.mRepl_eq|thm"><span class="entity_def" id="offset_67..75">mRepl_eq</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mRepl</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="OPair.html#OPair.OPair_class.snd|const"><span>snd</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span> </span><span class="main"><span>}</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mRepl_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mRepl'_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tex_def|fact"><span>tex_def</span></a><span> </span><span>msetmem_iff</span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_61..66"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mreplpred_replpred|fact"><span class="entity_def" id="mRepl.GZF_Model.mreplpred_replpred|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mreplpred_replpred|thm"><span class="entity_def" id="mRepl.GZF_Model.mreplpred_replpred|thm"><span class="entity_def" id="offset_270..288">mreplpred_replpred</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_302..303">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="free"><span>x'</span></span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_328..329">P</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="free"><span>x'</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.ReplPred|const"><span>ReplPred</span></a><span> </span><span class="free"><span>x'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>ReplPred_def</span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tyI|fact"><span>tyI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="free"><span>x'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mMem|const"><span>m</span></a></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="free"><span>x'</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mmemI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_302..303"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>uniq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>m∃<span class="hidden">⇩</span><sub>≤</sub><span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> 
     </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_328..329"><span>P</span></a><span> </span><span>mmem_m</span><span>
     </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mReplPred_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mall_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tall_def|fact"><span>tall_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃<span class="hidden">⇩</span><sub>≤</sub><span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetMem|const"><span>SetMem</span></a><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span>"</span></span></span><span> 
   </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mtuniq_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>muniq_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><span>Uniq_def</span><span> 
   </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>msmem_smem</span><span> </span><span>msmem_m</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mreplpred_cong|fact"><span class="entity_def" id="mRepl.GZF_Model.mreplpred_cong|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mreplpred_cong|thm"><span class="entity_def" id="mRepl.GZF_Model.mreplpred_cong|thm"><span>mreplpred_cong</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>fun1</span></span><span> </span><span class="bound"><span>fun2</span></span><span class="main"><span>.</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>xa</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>xa</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>fun1</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xa</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>fun2</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xa</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>fun1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>fun2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mset_m</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>mmem_mset</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mReplPred_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mall_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tall_def|fact"><span>tall_def</span></a><span> 
            </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mtuniq_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>muniq_def</span></a><span> </span><span>Uniq_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
     
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrank_memfun|fact"><span class="entity_def" id="mRepl.GZF_Model.mrank_memfun|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrank_memfun|thm"><span class="entity_def" id="mRepl.GZF_Model.mrank_memfun|thm"><span class="entity_def" id="offset_1107..1119">mrank_memfun</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1133..1134">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="SetComprehension.html#SetComprehension.GZF_class.mem_fun_ty|const"><span>↝</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.Ord|const"><span>Ord</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>mem_funI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>erule</span></span><span> </span><span>mrank_ord</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_mem</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1133..1134"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrank_repfun|fact"><span class="entity_def" id="mRepl.GZF_Model.mrank_repfun|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrank_repfun|thm"><span class="entity_def" id="mRepl.GZF_Model.mrank_repfun|thm"><span>mrank_repfun</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1267..1268">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>repfun_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1267..1268"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span>bex_def</span><span> </span><a class="entity_ref" href="GST_Logic.html#GST_Logic.rex_def|fact"><span>rex_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>ord_setmem</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>mem_funE</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1107..1119"><span>mrank_memfun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1267..1268"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrank_repfun_setof|fact"><span class="entity_def" id="mRepl.GZF_Model.mrank_repfun_setof|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrank_repfun_setof|thm"><span class="entity_def" id="mRepl.GZF_Model.mrank_repfun_setof|thm"><span class="entity_def" id="offset_1468..1486">mrank_repfun_setof</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1500..1501">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.Ord|const"><span>Ord</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>repfun_setof</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1500..1501"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1107..1119"><span>mrank_memfun</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1500..1501"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.setof_mset|fact"><span class="entity_def" id="mRepl.GZF_Model.setof_mset|fact"><span class="entity_def" id="mRepl.GZF_Model_class.setof_mset|thm"><span class="entity_def" id="mRepl.GZF_Model.setof_mset|thm"><span class="entity_def" id="offset_1626..1636">setof_mset</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_1649..1650">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.SetOf|const"><span>SetOf</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1670..1671">b</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>¬</span></span><span> </span><a class="entity_ref" href="ModelBase.html#ModelBase.ModelBase_class.Excluded|const"><span>Excluded</span></a><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span> </span><span class="free"><span>x'</span></span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>msetI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?i</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="OrdRec.html#OrdRec.OrdRec_sig_class.supOrd|const"><span>supOrd</span></a><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x'</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.Ord|const"><span>Ord</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.lt|const"><span>&lt;</span></a></span><span> </span><span class="var"><span>?i</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>supord_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1468..1486"><span>mrank_repfun_setof</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span>repfunI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> _ </span><span>ord_setmem</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> 
          </span><span>supord_ord</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1468..1486"><span>mrank_repfun_setof</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span>mrank_ord</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_mem</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span class="main"><span>∈</span></span><span class="free"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ModelBase.html#ModelBase.ModelBase_class.Tier|const"><span>Tier</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mrank|const"><span>mrank</span></a><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mrank_tier</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_mem</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ModelBase.html#ModelBase.ModelBase_class.Tier|const"><span>Tier</span></a><span> </span><span class="var"><span>?i</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>tier_increasing</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>mrank_ord</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>setof_mem</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.Ord|const"><span>Ord</span></a><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="ModelBase.html#ModelBase.ModelBase_class.Tier|const"><span>Tier</span></a><span> </span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="ModelBase.html#ModelBase.ModelBase_class.RemoveExcluded|const"><span>⊖</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>exsetI</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>tier_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.Ord|const"><span>Ord</span></a><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1670..1671"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="free"><span>x'</span></span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mI_mset</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.Ordinal_class.Ord|const"><span>Ord</span></a><span>›</span></span></span><span> </span><span>setof_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1649..1650"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_typ|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_typ|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_typ|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_typ|thm"><span class="entity_def" id="offset_2403..2412">mrepl_typ</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mRepl</span></a><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>Π</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>:</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.fun_ty|const"><span>→</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.depfunI|fact"><span>depfunI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funI|fact"><span>funI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span> 
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_2510..2511">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2529..2530">P</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2573..2575">x'</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="skolem"><span>x'</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>msetE</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_2634..2637">Px'</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.ReplPred|const"><span>ReplPred</span></a><span> </span><span class="skolem"><span>x'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_270..288"><span>mreplpred_replpred</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_2529..2530"><span>P</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_2510..2511"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?R</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>a</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span> </span><span class="main"><span>}</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2781..2789">mrepl_eq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mRepl</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="var"><span>?R</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_67..75"><span>mRepl_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2510..2511"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_2529..2530"><span>P</span></a><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2573..2575"><span>x'</span></a><span> </span><span>mset_snd_eq'</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2573..2575"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mRepl</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2781..2789"><span>mrepl_eq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_1626..1636"><span>setof_mset</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>setofI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>repl_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2573..2575"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2634..2637"><span>Px'</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
         </span><span class="operator"><span>rule_tac</span></span><span> </span><span class="main"><span class="improper"><span>[</span></span></span><span>2</span><span class="main"><span class="improper"><span>]</span></span></span><span> </span><span>ballI</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="var"><span>?R</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>replaceE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2573..2575"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2634..2637"><span>Px'</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span> </span><a class="entity_ref" href="ModelBase.html#ModelBase.ModelBase_class.Excluded|const"><span>Excluded</span></a><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>msmem_m</span><span> </span><span>msmem_not_excluded</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
   </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_mset|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_mset|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_mset|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_mset|thm"><span class="entity_def" id="offset_3235..3245">mrepl_mset</span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.funE|fact"><span>funE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.depfunE|fact"><span>depfunE</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_2403..2412"><span>mrepl_typ</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_iff|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_iff|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_iff|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_iff|thm"><span class="entity_def" id="offset_3286..3295">mrepl_iff</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3308..3309">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3327..3328">P</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mMem|const"><span>m</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mRepl</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mMem|const"><span>m</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3437..3439">x'</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span class="skolem"><span>x'</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>msetE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3308..3309"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3506..3509">Px'</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.ReplPred|const"><span>ReplPred</span></a><span> </span><span class="skolem"><span>x'</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_270..288"><span>mreplpred_replpred</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_3327..3328"><span>P</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_3308..3309"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3437..3439"><span>x'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3618..3626">mrepl_eq</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mRepl</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>a</span></span><span class="main"><span>∈</span></span><span class="skolem"><span>x'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span> </span><span class="main"><span>}</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_67..75"><span>mRepl_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3308..3309"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_3327..3328"><span>P</span></a><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3437..3439"><span>x'</span></a><span> </span><span>mset_snd_eq'</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3437..3439"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> 
      </span><span>mmem_iff_eq</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3235..3245"><span>mrepl_mset</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3308..3309"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_3327..3328"><span>P</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3618..3626"><span>mrepl_eq</span></a><span class="main"><span>]</span></span><span> 
      </span><span>replace_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3437..3439"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3506..3509"><span>Px'</span></a><span class="main"><span>]</span></span><span> </span><span>mmem_iff_eq</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3308..3309"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_3437..3439"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>msmem_smem</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>    

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_cong&apos;|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_cong&apos;|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_cong&apos;|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_cong&apos;|thm"><span class="entity_def" id="offset_3948..3959">mrepl_cong'</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3973..3974">x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3999..4000">P</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4032..4033">Q</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4064..4067">iff</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl&apos;|const"><span>mRepl'</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl&apos;|const"><span>mRepl'</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mRepl'_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>pair_eqI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>refl</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
       </span><span class="operator"><span>rule</span></span><span> </span><span>replace_cong</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>mset_snd_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3973..3974"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> _ </span><span>mset_snd_set</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3973..3974"><span>x</span></a><span class="main"><span class="main"><span>]</span></span></span><span> _ </span><span>refl</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4297..4299">x'</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.set|const"><span>set</span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>x'</span></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Set|const"><span>Set</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>msetE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3973..3974"><span>x</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.ReplPred|const"><span>ReplPred</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="OPair.html#OPair.OPair_class.snd|const"><span>π</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
       </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.ReplPred|const"><span>ReplPred</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="OPair.html#OPair.OPair_class.snd|const"><span>π</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
       </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3973..3974"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_270..288"><span>mreplpred_replpred</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_3999..4000"><span>P</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_4032..4033"><span>Q</span></a><span> 
       </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_4297..4299"><span>x'</span></a><span> </span><span>mset_snd_eq'</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_4297..4299"><span>x'</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span>msetmem_iff</span><span>
       </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="GST_Features.html#GST_Features.GZF_class.Mem|const"><span>∈</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="OPair.html#OPair.OPair_class.snd|const"><span>π</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mMem|const"><span>m</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mmemI</span><span> </span><a class="entity_ref" href="mRepl.html#offset_3973..3974"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_4297..4299"><span>x'</span></a><span> </span><span>mset_snd_eq</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mmem_m</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Q</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_4064..4067"><span>iff</span></a><span> </span><span>mmem_m</span><span> </span><span>msetmem_iff</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_cong|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_cong|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_cong|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_cong|thm"><span class="entity_def" id="offset_4794..4804">mrepl_cong</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4817..4820">iff</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4901..4903">pq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_4817..4820"><span>iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>mmem_m</span><span> </span><span>msmem_m</span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mReplPred_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty_def|fact"><span>has_ty_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mtuniq_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>muniq_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tuniq_def|fact"><span>tuniq_def</span></a><span> </span><span>Uniq_def</span><span>
              </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mall_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span> </span><span class="main"><span>∧</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>h</span><span class="main"><span>:</span></span><span>True</span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_5170..5171">x</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5187..5188">P</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_5226..5227">Q</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_4901..4903"><span>pq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl&apos;|const"><span>mRepl'</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl&apos;|const"><span>mRepl'</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3948..3959"><span>mrepl_cong'</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_5170..5171"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_5187..5188"><span>P</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_5226..5227"><span>Q</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_4817..4820"><span>iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mRepl_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_5170..5171"><span>x</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_5187..5188"><span>P</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_5226..5227"><span>Q</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mRepl_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_4901..4903"><span>pq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_m|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_m|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_m|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_m|thm"><span class="entity_def" id="offset_5508..5515">mrepl_m</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mset_m</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3235..3245"><span>mrepl_mset</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>GZF_Model_mdefault_m</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mRepl_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_ax|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_ax|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_ax|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_ax|thm"><span>mrepl_ax</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
 </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>m∀</span></span><span class="bound"><span>x</span></span><span class="main"><span>:</span></span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSet|const"><span>mSet</span></a><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>P</span></span><span> </span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mReplPred|const"><span>mReplPred</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mall|const"><span>m∀</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mall|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mMem|const"><span>m</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mex|const"><span>m∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.mex|const"><span>.</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mMem|const"><span>m</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mSetMem|const"><span>mSetMem</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_3286..3295"><span>mrepl_iff</span></a><span> </span><span>mmem_m</span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mall_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mtall_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mall_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tall_def|fact"><span>tall_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mtex_def</span></a><span> </span><a class="entity_ref" href="Soft_Types.html#Soft_Types.tex_def|fact"><span>tex_def</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_36..43"><span>mex_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_rsp|fact"><span class="entity_def" id="mRepl.GZF_Model.mrepl_rsp|fact"><span class="entity_def" id="mRepl.GZF_Model_class.mrepl_rsp|thm"><span class="entity_def" id="mRepl.GZF_Model.mrepl_rsp|thm"><span>mrepl_rsp</span></span></span></span></span><span> </span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>x</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5880..5883">iff</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Soft_Types.html#Soft_Types.has_ty|const"><span>:</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="ModelTypes.html#ModelTypes.ModelBase_class.inModel|const"><span>M</span></a></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="GZF_Model_Base.html#GZF_Model_Base.GZF_Model_class.mRepl|const"><span>mℛ</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="mRepl.html#offset_5508..5515"><span>mrepl_m</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_4794..4804"><span>mrepl_cong</span></a><span> </span><a class="entity_ref" href="mRepl.html#offset_5880..5883"><span>iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>